!function(){function e(){const t=new IntersectionObserver(function(e,t){e.forEach(e=>{var t,s,a,r,n;e.isIntersecting?(t=Number(e.target.dataset.value),s=e.target.dataset.unit,r=Number(e.target.dataset.max),n=e.target.dataset.colour||"energy-turq",a=100-(r=t/r*100),r=r/2-.5,n=stir.createDOMFragment(`<div class="barchart-value u-bg-${n} u-absolute" style="right:${98<a?98:a}%"></div>
                                                <div class="barchart-text u-relative u-white u-font-bold text-md u-z-50" style="left:${Math.abs(0==r?1:r)}%">${t}${s}</div>`),e.target.append(n)):e.target.innerHTML=""})},{root:null,threshold:.5});stir.nodes(".barchart").forEach(e=>{t.observe(e)})}stir.curry((e,t,{type:s,hours:a,typekey:r,label:n})=>{return"total"===r?`<div class="u-bg-${e[0].second}--10 u-p-tiny u-p-1 u-text-regular u-mt-1 flex-container u-mb-2">
                <strong class="u-flex1">Total workload</strong>
                <strong>${a} hours</strong>
            </div>`:`
        <div>
            <span class="u-inline-block u-p-tiny u-px-1">${n+": "+(r=s,r[0].toUpperCase()+r.slice(1))}</span>
            <div class="barchart u-relative u-flex align-middle u-overflow-hidden u-bg-medium-grey" data-value="${a}" data-max="${t}" data-unit="" data-colour="${e[0].second}"></div>
        </div>`});const t=(e,t)=>t?`<div class="cell large-${e} u-mb-1">${t}</div>`:"",a=stir.curry((e,{name:t,value:s})=>0===Number(s)?"":`<div>
          <span class="u-inline-block u-p-tiny u-px-1">${t}</span>
          <div class="barchart u-relative u-flex align-middle u-overflow-hidden u-bg-medium-grey" data-value="${s}" data-max="100" data-unit="%" data-colour="${e[0].second}"></div>
        </div>`),r=stir.curry((e,t,s)=>{e=a(e);return(1<t?`<h4 class="u-mt-0">${s.tab}</h4>`:"")+`<p>${s.summary.map(e).join("")}</p>`}),s=stir.curry((e,t)=>t?`<div class="cell large-${e} u-mb-1">${t}</div>`:""),n=stir.curry((e,t)=>(stir.setHTML(e,t),!0));const u=e=>{var s;return"International"===e.tab?{sum:0,summary:[],tab:e.tab,tabAssessments:e.tabAssessments}:{sum:e.tabAssessments.map(e=>Number(e.percent)).reduce((e,t)=>e+t,0),summary:(s=e.tabAssessments.map(e=>e.category)).filter((e,t)=>s.indexOf(e)===t).map(t=>({name:t,value:e.tabAssessments.map(e=>e.category===t?Number(e.percent):0).reduce((e,t)=>e+t,0)})),tab:e.tab,tabAssessments:e.tabAssessments}};var l,i,c,o,d,m;l=JSON.parse(colours),i=JSON.parse(assessments),JSON.parse(deliveries),c=multipleAssessmentsText,o=assessmentsFallbackText,d=deliveriesFallbackText,(m=stir.node("#content"))&&m.classList.add("u-padding-bottom"),n(stir.node("#deliveries"),(m=d,(d="")+(d.length?t("12",d):`<div class="cell ">${m}</div>`))),m=((e,t)=>{e=e.map(u).filter(e=>100===e.sum);const s=r(t,e.length);return e.map(e=>s(e))})(d=i||[],l),n(stir.node("#assessments"),(i=c,d=o,o=(c=m).length<2?"12":"6",o=s(o),o=c.length?c.map(o).join(""):`<div class="cell">${d}</div>`,`${1<c.length?i:""} `+o)),m=l[0].level,n(stir.node("#backbutton"),(d=m,(c=new URLSearchParams(document.location.search)).get("course")?`<a href="${stir.isNumeric(c.get("course"))?"/terminalfour/preview/1/en/"+c.get("course"):`/courses/${d.replace("pg","pg-taught")}/`+c.get("course")}#panel_1_3" id="backtocourseBtn" class="button u-m-0 heritage-green button--back ">Back to course</a>`:"")),e()}();