!function(){function e(){const t=new IntersectionObserver(function(e,t){e.forEach(e=>{var t,s,a;e.isIntersecting?(s=Number(e.target.dataset.value),e.target.dataset.unit,t=Number(e.target.dataset.max),a=e.target.dataset.colour||"energy-turq",t=100-(s=s/t*100),s=s/2-.5,a=stir.createDOMFragment(`<div>
                                                  <div class="barchart-value u-top-0 u-bottom-0 u-bg-${a} u-absolute" style="right:${98<t?98:t}%"></div>
                                                  <div class="barchart-text u-relative u-white u-font-bold text-md u-z-50" style="left:${Math.abs(0==s?1:s)}%"></div>
                                              </div>`),e.target.append(a)):e.target.innerHTML=""})},{root:null,threshold:.5});stir.nodes(".barchart").forEach(e=>{t.observe(e)})}stir.curry((e,t,{type:s,hours:a,typekey:r,label:u})=>{return"total"===r?`<div class="u-bg-${e[0].second}--10 u-p-tiny u-p-1 u-text-regular u-mt-1 flex-container u-mb-2">
                <strong class="u-flex1">Total workload</strong>
                <strong>${a} hours</strong>
            </div>`:`
        <div>
            <span class="u-inline-block u-p-tiny u-px-1">${u+": "+(r=s,r[0].toUpperCase()+r.slice(1))}</span>
            <div class="barchart u-relative u-flex align-middle u-overflow-hidden u-bg-medium-grey" data-value="${a}" data-max="${t}" data-unit="" data-colour="${e[0].second}"></div>
        </div>`});const t=(e,t)=>t?`<div class="cell large-${e} u-mb-1">${t}</div>`:"",a=stir.curry((e,{name:t,value:s})=>0===Number(s)?"":`<div >
          <span class="u-inline-block u-p-tiny u-px-1">${t}</span>
          <div class="u-flex">
            <div class="barchart u-relative u-flex u-flex1 align-middle u-overflow-hidden u-bg-medium-grey" data-value="${s}" data-max="100" data-unit="%" data-colour="${e[0].second}"></div>
            <div class="u-px-2 text-xlg u-font-primary u-line-height-1 u-${e[0].second} u-top--16 u-relative"  >${s}%</div>
          </div>
        </div>`),r=stir.curry((e,t,s)=>{e=a(e);return(1<t?`<h4 class="u-mt-0">${s.tab}</h4>`:"")+`<p>${s.summary.map(e).join("")}</p>`}),s=stir.curry((e,t)=>t?`<div class="cell large-${e} u-mb-1">${t}</div>`:""),u=stir.curry((e,t)=>(stir.setHTML(e,t),!0));const n=e=>{var s;return"International"===e.tab?{sum:0,summary:[],tab:e.tab,tabAssessments:e.tabAssessments}:{sum:e.tabAssessments.map(e=>Number(e.percent)).reduce((e,t)=>e+t,0),summary:(s=e.tabAssessments.map(e=>e.category)).filter((e,t)=>s.indexOf(e)===t).map(t=>({name:t,value:e.tabAssessments.map(e=>e.category===t?Number(e.percent):0).reduce((e,t)=>e+t,0)})),tab:e.tab,tabAssessments:e.tabAssessments}};var i,l,c,o,d,m;i=JSON.parse(colours),l=JSON.parse(assessments),JSON.parse(deliveries),c=multipleAssessmentsText,o=assessmentsFallbackText,d=deliveriesFallbackText,(m=stir.node("#content"))&&m.classList.add("u-padding-bottom"),u(stir.node("#deliveries"),(m=d,(d="")+(d.length?t("12",d):`<div class="cell ">${m}</div>`))),m=((e,t)=>{e=e.map(n).filter(e=>100===e.sum);const s=r(t,e.length);return e.map(e=>s(e))})(d=l||[],i),u(stir.node("#assessments"),(l=c,d=o,o=(c=m).length<2?"12":"6",o=s(o),o=c.length?c.map(o).join(""):`<div class="cell">${d}</div>`,`${1<c.length?l:""} `+o)),m=i[0].level,u(stir.node("#backbutton"),(d=m,(c=new URLSearchParams(document.location.search)).get("course")?`<a href="${stir.isNumeric(c.get("course"))?"/terminalfour/preview/1/en/"+c.get("course"):`/courses/${d.replace("pg","pg-taught")}/`+c.get("course")}#panel_1_3" id="backtocourseBtn" class="button u-m-0 heritage-green button--back ">Back to course</a>`:"")),e()}();