function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}!function(){var n;if((n=document.querySelector("[data-videoId]"))&&n.addEventListener("ended",function(e){var t,a;n.parentNode&&!(fallback=n.getAttribute("data-fallback-html"))&&(fallback=n.getAttribute("data-fallback-image"))&&(t=new Image,a=n,t.addEventListener("load",function(e){a.insertAdjacentElement("beforebegin",t),a.parentNode.removeChild(a)}),t.src=fallback)}),AOS){function e(e,t){this.setAttribute&&(this.setAttribute("data-aos",e),this.setAttribute("data-aos-duration",t))}for(var t=1e3,a="fade-right",r="fade-left",i="fade-up",o=[{element:".c-promo-area--homepage .c-promo-area__content",action:a,duration:t},{element:".c-promo-area--homepage .c-promo-area__image",action:r,duration:t},{element:".c-research-promo__wrapper",action:i,duration:2e3},{element:".c-international-section .c-bleed-feature__text-container",action:r,duration:t},{element:".c-international-section .c-bleed-feature__image",action:a,duration:t},{element:".c-homepage-news-events",action:i,duration:2e3}],s=0;s<o.length;s++){var c=document.querySelector(o[s].element),l=o[s].action||r,d=o[s].duration||t;c&&e.call(c,l,d)}AOS.init({once:!0,disable:"phone"})}}();var stir=stir||{};!function(s){var c,n,l,d,u,m,f,r,p,e,t,a;s&&(c=stir.filter(function(e){if(e.id&&0!==e.id)return e}),n=function(e,t,a){if(a.id!==e&&a.id!==t)return a},l=function(e,t,a){if(a<e)return t},d=function(e,t,a){return stir.filter(function(e){return n(t,a,e)},e)},u=stir.curry(function(e){return'\n      \x3c!-- All Events --\x3e\n      <div class="cell large-4 medium-6 small-12">\n          <div class="flex-container flex-dir-column medium-flex-dir-row align-middle u-gap u-mb-2 u-items-start-small">\n              <h2 class="header-stripped u-header--margin-stripped">Events</h2>\n              <span class="flex-container u-gap-16 align-middle"><span class="uos-calendar u-icon h5 show-for-small-only"></span><a href="/events/" class="c-link">See all events</a></span>\n          </div>\n          <div class="grid-x grid-padding-x" >'.concat(e,"</div>\n      </div>")}),m=stir.curry(function(e,t,a){return'\n        \x3c!-- All News --\x3e\n        <div class="cell small-12 '.concat(t,'" aria-label="Latest news items">\n            <div class="flex-container flex-dir-column medium-flex-dir-row align-middle u-gap u-mb-2 u-items-start-small">\n                <h2 class="header-stripped u-header--margin-stripped">News</h2>\n                <span class="u-flex1 flex-container u-gap-16 align-middle"><span class="uos-radio-waves u-icon h5 show-for-small-only"></span><a href="/news/" class="c-link">See all articles</a></span>\n                ').concat(3===e?'<span class="flex-container u-gap-16 align-middle"><span class="uos-calendar u-icon h5"></span><a href="/events/" class="c-link">See our events</a></span>':"",'\n            </div>\n            <div class="grid-x grid-padding-x " >').concat(a,"</div>\n        </div>")}),f=stir.curry(function(e,t,a){return"\n      <".concat(t,' class="small-12 cell ').concat(e,'">\n        <a href="').concat(a.url,'"><img class="show-for-medium" src="').concat(a.image,'" alt="').concat(a.imagealt,'" loading="lazy"></a>\n        <h3 class="header-stripped u-my-1 u-font-normal u-compress-line-height">\n        <a href="').concat(a.url,'" class="c-link u-inline">').concat(a.title,"</a>\n      </h3>\n        ").concat(a._uos.location?"<strong>".concat(a._uos.location,"</strong>"):"","\n        ").concat(r(a._uos),' \n        <p class="text-sm">').concat(a.summary,"</p>\n      </").concat(t," >")}),r=function(e){if(!e.startDate)return"";var t=e.endDate===e.startDate?"":" until ".concat(e.endDate);return'<time class="u-block u-my-1 u-grey--dark">'.concat(e.startDate).concat(t,"</time>")},p=stir.curry(function(e,t){return stir.setHTML(e,t),!0}),t="?v="+(new Date).getTime(),e=window.location.hostname,t=t,a=stir.t4Globals,e="localhost"===e||"mediadev.stir.ac.uk"===e?"homepage.json"+t:"t4cms.stir.ac.uk"===e||"t4appdev.stir.ac.uk"===e?a.preview.homepagefeed:a.homepagefeed+t,stir.getJSON(e,function(e){var a,t,n,r,i,o;void 0!==e&&e.news&&(a=1,t=e,r=stir.filter(function(e,t){return l(a,e,t)}),i=f("","div"),i=(t=(r=stir.compose(r,c)(t.events)).length?stir.compose(u,stir.join(""),stir.map(i))(r):"").length?2:3,n=i,i=c((r=e).news.primary),r=c(r.news.secondary),e=i[0]||{id:0},o=r[0]||{id:0},i=[e,o].concat(_toConsumableArray(d(i,e.id,o.id)),_toConsumableArray(d(r,e.id,o.id))),r=3===n?"medium-12 ":"large-8 medium-6 ",e=stir.map(f(3===n?"large-4 medium-6":"large-6 medium-12","article")),o=stir.filter(function(e,t){return l(n,e,t)}),r=stir.compose(m(n,r),stir.join(""),e,o,c)(i),p(s,(e=t,'<div class="grid-x grid-padding-x c-news-event__news">'.concat(r).concat(e,"</div>"))))}))}(stir.node(".c-news-event"));