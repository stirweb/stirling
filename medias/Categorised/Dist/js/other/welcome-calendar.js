!function(){var t=document.querySelector(".c-welcome-calendar");if(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["first","second","third","fourth"],r=t.getAttribute("data-audience"),l=Array.prototype.slice.call(t.querySelectorAll(".h-event")),a=Array.prototype.slice.call(t.querySelectorAll("time")),c=document.createElement("select"),o=document.createElement("select"),i=[];if(l.forEach(function(e){i.push(e.getAttribute("data-date"))}),a.forEach(function(e){e.innerText=e.innerText.replace(":00","")}),1<(i=i.filter(function(e,t,n){return n.indexOf(e)===t})).length){(u=document.createElement("option")).value="",u.innerText="All dates",c.id="dateSelectElement",c.appendChild(u);for(var d=0;d<i.length;d++){var u=document.createElement("option"),s=new Date(i[d]);u.value=i[d],u.innerText="".concat(("0"+s.getUTCDate()).substr(-2)," ").concat(e[s.getUTCMonth()]," ").concat(s.getFullYear()),c.appendChild(u)}t.insertAdjacentElement("beforebegin",c),c.insertAdjacentHTML("beforebegin",'<label for="dateSelectElement">Filter events by date:</label>'),c.addEventListener("change",p)}if("pg"!=r&&1<n.length){(u=document.createElement("option")).value="",u.innerText="All year groups",o.id="groupSelectElement",o.appendChild(u);for(d=0;d<4;d++)(u=document.createElement("option")).innerText=n[d]+" year",u.value=d+1,o.appendChild(u);t.insertAdjacentElement("beforebegin",o),o.insertAdjacentHTML("beforebegin",'<label for="groupSelectElement">Filter events by year group:</label>'),o.addEventListener("change",p)}(1<n.length||1<i.length)&&((a=document.createElement("button")).type="reset",a.setAttribute("class","button"),a.textContent="Reset (show all events)",t.insertAdjacentElement("afterend",a),a.addEventListener("click",function(){f(),c.selectedIndex=o.selectedIndex=0,stir.scrollToElement(c,32)})),"pg"==r&&Array.prototype.forEach.call(t.querySelectorAll(".p-yeargroup"),function(e){e.parentNode.removeChild(e)})}function p(){var e;f(),e=c.options[c.selectedIndex],((e=(e&&e.value?'[data-date="'.concat(e.value,'"]'):"")+((e=o.options[o.selectedIndex])&&e.value?'[data-group*="'.concat(e.value,'"]'):""))?Array.prototype.slice.call(t.querySelectorAll(".h-event:not(".concat(e,")"))):[]).forEach(function(e){e.classList&&e.classList.add("ejecta")})}function f(){l.forEach(function(e){e.classList&&e.classList.remove("ejecta")})}}();