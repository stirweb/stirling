!function(){var t=document.head.querySelector("[name=sid][content]");if(t)for(var e=document.querySelectorAll('a[data-section-id="'+t.getAttribute("content")+'"][data-type="event"]'),r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r])}(),function(t){if(t){t&&(t.value=window.location.href);t=stir.node("#copyurl");t&&t.addEventListener("click",t=>(async()=>{await navigator.clipboard.writeText(window.location.href)})())}}(stir.node("#shareurl")),function(t){if(t){const i=t,e=i.dataset&&i.dataset.seriesid?i.dataset.seriesid:null,n=stir.node("#seriesdatefilter"),a=(t,e)=>t?`<h3 class="header-stripped ${e}">${t}</h3>`:"";const o=t=>`<option value="${t.startInt}">${t.stirStart}</option>`,r=stir.curry((t,e)=>""===t||e.startInt===Number(t)?e:void 0),d=t=>({start:t.start,stirStart:t.stirStart,startInt:t.startInt}),l=t=>t.start,c=stir.map((t,e)=>{return`
        <div class="${e%2==1?"":"u-bg-grey"} ${0===e?"u-heritage-line-top u-border-width-5":""} u-p-1 c-event-list u-gap">
          <div class="u-w-500">
            <span class="u-inline-block u-mb-1"><strong>Event</strong><br />
            <a href="${t.url}">${t.title}</a></span><br />
            <strong >Date:</strong> ${t.stirStart} <br />
            <strong>Time:</strong> ${t.startTime} - ${t.endTime}
          </div>
          <div><span class="u-inline-block u-mb-1"><strong>Description</strong><br />${t.summary} </span></div>
          <div><span class="u-inline-block u-mb-1">${e=t.audience,e.trim?"<strong>Audience</strong><br />"+e.replaceAll(",","<br/>"):""}</span></div>
          <div><span class="u-inline-block u-mb-1">${t.recording?"<strong>Recording</strong><br />Available":""}</span></div>
        </div>`}),u=stir.join(""),s=()=>{var t=new Date;return Number(t.toISOString().split("T")[0].split("-").join(""))},p=(t,e)=>t.startInt-e.startInt;const v=stir.filter(t=>t.endInt>=s());const g=stir.filter(t=>t.endInt<s()),m=stir.filter(t=>t.isSeriesChild===e);const b=stir.curry((t,e)=>(stir.setHTML(t,e),!0)),h=(t,e)=>{t=stir.filter(r(t)),t=stir.compose(u,c,stir.sort(p),t,v,m)(e);return t.length?a("Upcoming","")+t:""};t="dev"===(t=UoS_env.name)?"index.json":"preview"===t?'<t4 type="navigation" id="5214" />':"/data/events/revamp/json/index.json";stir.getJSON(t,r=>{const s=(t=>{t=stir.compose(u,c,stir.sort(p),g,m)(t);return t.length?a("Passed","u-mt-2")+t:""})(r);b(i,h("",r)+s),n&&(b(n,'<option value="">Filter by date</option>'+(t=>{t=((e,r)=>{var s={},i=[];for(let t=0;t<e.length;t++)s[e[t][r]]||(s[e[t][r]]=!0,i.push(e[t]));return i})(stir.compose(stir.map(d),stir.sort(p),v,m,stir.filter(l))(t),"startInt");return stir.compose(u,stir.map(o))(t)})(r)),n.addEventListener("change",t=>{var e=h(n.options[n.selectedIndex].value,r);b(i,e+s)}))})}}(stir.node("#seriesevents"));