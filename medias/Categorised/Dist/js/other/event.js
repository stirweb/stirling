!function(){var t=document.head.querySelector("[name=sid][content]");if(t)for(var e=document.querySelectorAll('a[data-section-id="'+t.getAttribute("content")+'"][data-type="event"]'),r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r])}(),function(t){if(t){t&&(t.value=window.location.href);t=stir.node("#copyurl");t&&t.addEventListener("click",t=>(async()=>{await navigator.clipboard.writeText(window.location.href)})())}}(stir.node("#shareurl")),function(t){if(t){const i=t,e=i.dataset&&i.dataset.seriesid?i.dataset.seriesid:null,n=stir.node("#seriesdatefilter"),a=(t,e)=>t?`<h3 class="header-stripped ${e}">${t}</h3>`:"",r=t=>`<span class="u-bg-heritage-berry u-white c-tag u-mr-1 u-inline-block u-mb-1">${t}</span>`;const o=t=>`<option value="${t.startInt}">${t.stirStart}</option>`,s=stir.curry((t,e)=>""===t||e.startInt===Number(t)?e:void 0),l=t=>({start:t.start,stirStart:t.stirStart,startInt:t.startInt}),d=t=>t.start,c=stir.map((t,e)=>{return`
        <div class="${e%2==1?"":"u-bg-grey"} ${0===e?"u-heritage-line-top u-border-width-5":""} u-p-1 c-event-list u-gap">
          <div >
            ${t.cancelled?r("Cancelled"):""}${t.rescheduled?r("Rescheduled"):""}
            <span class="u-inline-block u-mb-1"><strong>Event</strong><br />
            <a href="${t.url}">${t.title}</a></span><br />
            <strong >Date:</strong> ${t.stirStart} <br />
            <strong>Time:</strong> ${t.startTime} - ${t.endTime}
          </div>
          <div><span class="u-inline-block u-mb-1"><strong>Description</strong><br />${t.summary} </span></div>
          <div><span class="u-inline-block u-mb-1">${e=t.audience,e.trim?"<strong>Audience</strong><br />"+e.replaceAll(",","<br/>"):""}</span></div>
          <div><span class="u-inline-block u-mb-1">${t.recording?'<strong>Recording</strong><br /><a href="https://www.youtube.com/watch?v=n_uFzLPYDd8">Available</a>':""}</span></div>
        </div>`}),u=stir.join(""),p=()=>{var t=new Date;return Number(t.toISOString().split("T")[0].split("-").join("")+("0"+t.getHours()).slice(-2)+("0"+t.getMinutes()).slice(-2))},v=(t,e)=>t.startInt-e.startInt;const g=stir.filter(t=>t.endInt>=p());const m=stir.filter(t=>t.endInt<p()),b=stir.filter(t=>t.isSeriesChild===e);const h=stir.curry((t,e)=>(stir.setHTML(t,e),!0)),f=(t,e)=>{t=stir.filter(s(t)),t=stir.compose(u,c,stir.sort(v),t,g,b)(e);return t.length?a("Upcoming","")+t:""};t="dev"===(t=UoS_env.name)?"index.json":"preview"===t?'<t4 type="navigation" id="5214" />':"/data/events/revamp/json/index.json";stir.getJSON(t,r=>{const s=(t=>{t=stir.compose(u,c,stir.sort(v),m,b)(t);return t.length?a("Passed","u-mt-2")+t:""})(r);h(i,f("",r)+s),n&&(h(n,'<option value="">Filter by date</option>'+(t=>{t=((e,r)=>{var s={},i=[];for(let t=0;t<e.length;t++)s[e[t][r]]||(s[e[t][r]]=!0,i.push(e[t]));return i})(stir.compose(stir.map(l),stir.sort(v),g,b,stir.filter(d))(t),"startInt");return stir.compose(u,stir.map(o))(t)})(r)),n.addEventListener("change",t=>{var e=f(n.options[n.selectedIndex].value,r);h(i,e+s)}))})}}(stir.node("#seriesevents"));