!function(){"dev"!==UoS_env.name&&UoS_env.name;const c={course:e=>`<li><a href="${e.url}">${e.title.split("|").shift().trim()}</a></li>`,news:(e,t)=>{var a=void 0===(a=e.custom_fields.data)?{}:String===a.constructor?JSON.parse(decodeURIComponent(a)):Array===a.constructor?Object.assign({},...a.map(e=>JSON.parse(decodeURIComponent(e)))):Object===a.constructor?a:{},t=e.custom_fields.sid||t,i=e.title.split("|").shift().trim(),r=e.custom_fields.d?e.custom_fields.d.split("|")[0]:e.ts,a=c.image(a.thumbnail,a.thumb_alt||i),s=c.image('<t4 type="media" id="183393" formatter="path/*" cdn="true" pxl-filter-id="10" />',"Airthrey Loch");return`
				<article class="cell large-4 medium-6 small-12" aria-labelledby=news${t}>
					${c.link(e.url,a||s)}
					<time class="u-block u-my-1 u-dark-grey">${stir.Date.newsDate(new Date(r))}</time>
					<h3 class="header-stripped u-header--margin-stripped u-mt-1 u-font-normal u-compress-line-height">
						<a href="${e.url}" class="c-link u-inline" id=news${t}>${i}</a>
					</h3>
					<p class="text-sm">${e.meta_description||""}</p>
				</article>`},image:(e,t)=>e&&t?`<img class=show-for-medium src="${e}" alt="${t}" loading=lazy>`:void 0,link:(e,t)=>e&&t?`<a href="${e}">${t}</a>`:"",imageUrl:e=>e.metaData?e.metaData.thumbnail||e.metaData.image.split("|").shift():""},n={UG:"undergraduate",PG:"postgraduate (taught)"},o={course:25,news:3},m={course:{term:"*",customField:"type=course",collectAnalytics:!1,resultType:"organic",limit:o.course},news:{term:"*",customField:"type=news",sort:"custom_fields.d",collectAnalytics:!1,resultType:"organic",limit:o.news}},d=e=>e.url!==window.location.href;document.querySelectorAll("[data-funnelback-inject],[data-search-inject]").forEach(t=>{const a=t.getAttribute("data-type");var e=t.getAttribute("data-level");const i=t.getAttribute("data-facet");var r=i&&(r=i,Array.prototype.slice.call(document.querySelectorAll(`meta[name="stir.${r}"]`)).map(e=>e.content)),s=stir.addSearch.getJsonEndpoint();const l=new URLSearchParams(m[a]);r&&r.forEach(e=>{l.append("customField",i+"="+e)}),e&&n[e]&&l.append("customField","level="+n[e]),s.search=l;stir.getJSON(s,e=>{e&&(t.innerHTML=e.hits.filter(d).slice(0,o[a]).map((e,t)=>c[a](e)).join("")||"")})})}();