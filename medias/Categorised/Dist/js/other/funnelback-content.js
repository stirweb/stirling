var stir=stir||{};stir.funnelback=stir.funnelback||(()=>{const e="dev"===UoS_env.name||"qa"===UoS_env.name||"preview"===UoS_env.name?"stage-shared-15-24-search.clients.uk.funnelback.com":"search.stir.ac.uk",t=`https://${e}/s/`;return{getHostname:()=>e,getJsonEndpoint:()=>new URL("search.json",t),getScaleEndpoint:()=>new URL("scale",t)}})(),function(){const i="dev"===UoS_env.name||"qa"===UoS_env.name,l={relatedCourses:e=>`<li><a href="${e.liveUrl}">${e.metaData.award||""} ${e.title}</a></li>`,relatedNews:e=>`<article class="cell large-4 medium-6 small-12" aria-label="${e.title.split("|").shift().trim()}">
		${l.link(e.liveUrl,l.image(e.metaData.image.split("|").slice(-1)[0],e.metaData.imagealt)||l.image("https://www.stir.ac.uk/media/stirling/news/news-centre/generic/airthrey-related-news.jpg","Airthrey Loch"))}
		<time class="u-block u-my-1 u-grey--dark">${stir.Date.newsDate(new Date(e.date))}</time>
		<h3 class="header-stripped u-header--margin-stripped u-mt-1 u-font-normal u-compress-line-height"><a href="${e.liveUrl}" class="c-link u-inline">${e.title.split("|").shift().trim()}</a></h3>
		<p class="text-sm">${e.summary}</p>
		</article>`,image:(e,t)=>e&&t?`<img class="show-for-medium" src="${e}" alt="${t}">`:"",link:(e,t)=>e&&t?`<a href="${e}">${t}</a>`:""},n={relatedCourses:25,relatedNews:3},c={relatedCourses:"&sort=title&SF=[award]&num_ranks="+(n.relatedCourses+1),relatedNews:"&sort=date&SF=[c,d,h1,image,imagealt,tags]&num_ranks="+(n.relatedNews+1)},o=e=>e.liveUrl!==window.location.href;document.querySelectorAll("[data-funnelback-inject]").forEach(t=>{var a,e,s,r;t&&(a=t.getAttribute("data-type"),e=t.getAttribute("data-meta-name"),s=t.getAttribute("data-meta-value"),r=t.getAttribute("data-collection"),"subject"===e&&(s=s.split(", ").map(e=>`"${e}"`).join(" ")),e=e&&s?`&meta_${e}_orsand=`+s:"",s=stir.funnelback.getJsonEndpoint().toString()+(`?collection=${r}&query=!padre`+e+c[a]),r=e=>{e&&e.response&&e.response.resultPacket&&e.response.resultPacket.results.length&&(t.innerHTML=e.response.resultPacket.results.filter(o).slice(0,n[a]).map(e=>l[a](e)).join("")||"")},i?stir.getJSONAuthenticated(s,r):stir.getJSON(s,r))})}();