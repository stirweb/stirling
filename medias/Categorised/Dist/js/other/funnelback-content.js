var stir=stir||{};stir.funnelback=stir.funnelback||(()=>{const e="dev"===UoS_env.name||"qa"===UoS_env.name||"preview"===UoS_env.name?"stage-shared-15-24-search.clients.uk.funnelback.com":"search.stir.ac.uk",t=`https://${e}/s/`;return{getHostname:()=>e,getJsonEndpoint:()=>new URL("search.json",t),getScaleEndpoint:()=>new URL("scale",t)}})(),function(){const i="dev"===UoS_env.name||"qa"===UoS_env.name,n={relatedCourses:e=>`<li><a href="${e.liveUrl}">${e.metaData.award||""} ${e.title}</a></li>`,relatedNews:e=>`<article class="cell large-4 medium-6 small-12" aria-label="${e.title.split("|").shift().trim()}">
		<a href="${e.liveUrl}"><img class="show-for-medium" src="${e.metaData.image.split("|").slice(1).shift()}" alt="${e.metaData.imagealt}"></a>
		<time class="u-block u-my-1 u-grey--dark">${stir.Date.newsDate(new Date(e.date))}</time>
		<h3 class="header-stripped u-header--margin-stripped u-mt-1 u-font-normal u-compress-line-height"><a href="${e.liveUrl}" class="c-link u-inline">${e.title.split("|").shift().trim()}</a></h3>
		<p class="text-sm">${e.summary}</p>
	</article>`},l={relatedCourses:"&sort=title&SF=[award]&num_ranks=25",relatedNews:"&sort=date&SF=[c,d,h1,image,imagealt,tags]&num_ranks=3"};document.querySelectorAll("[data-funnelback-inject]").forEach(t=>{var a,e,s,r;t&&(a=t.getAttribute("data-type"),r=t.getAttribute("data-meta-name"),e=t.getAttribute("data-meta-value"),s=t.getAttribute("data-collection"),a)&&r&&e&&("subject"===r&&(e=e.split(", ").map(e=>`"${e}"`).join(" ")),s=stir.funnelback.getJsonEndpoint().toString()+(`?collection=${s}&query=!padre&meta_${r}_orsand=`+e+l[a]),r=e=>{e&&(t.innerHTML=e?.response?.resultPacket?.results?.map(e=>n[a](e)).join("")||"")},i?stir.getJSONAuthenticated(s,r):stir.getJSON(s,r))})}();