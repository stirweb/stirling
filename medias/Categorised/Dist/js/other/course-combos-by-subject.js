!function(r){if(!r)return;const o={"UDX16-PSY":"BSc (Hons) Psychology","UDX12-PSY":"BA (Hons) Psychology"};const i=r=>`<div data-behaviour=accordion>
                  <h3>${[r.prefix,r.title].join(" ").trim()}</h3>
                  <div><p>Apply now for:</p>
                    <ul>
                      ${t(r)}
                      ${s(r.combinations)}
                    </ul>
                  </div>
                </div>`,l=stir.curry((r,t,i)=>t?`<a href="${r+t}">${i}</a>`:i)("https://portal.stir.ac.uk/student/course-application/ugd/application.jsp?crsCode="),t=s=>s.applyCode&&s.applyCode.split(", ").map((r,t,i)=>r?`<li>${l(r.trim(),o[r.trim()]||[s.prefix,s.title].join(" ").trim())} <small>${1<i.length?" ("+r+")":""}</small></li>`:`<!-- ${s.title} -->`).join("\n"),s=r=>r?r.map(r=>`<li>${l(r.codes.apply,[r.prefix,r.title].join(" ").trim())}</li>`).join("\n"):null,e=r=>r.replace(/[^a-zA-Z]/g,"-").toLowerCase();var a=stir.curry((t,r)=>stir.map(r=>({...r,combinations:p(t,r)}),r));const c=stir.curry((r,t)=>-1!==t.subject.indexOf(r));var n=stir.curry((r,t)=>stir.filter(c(t),r));const p=(r,t)=>r.filter(r=>r.courses&&r.courses.filter(r=>r.url===t.url).length);var u=stir.reduce((r,t)=>r.includes(t)?r:[...r,t],[]),d=stir.map(r=>r.subject&&r.subject.split(/,\s+/g)),y=stir.filter(r=>r),m=stir.curry((r,t)=>(stir.setHTML(r,t),!0)),f=stir.t4globals.courses||[],g=stir.t4globals.combos||[],y=stir.compose(stir.sort(null),y,u,r=>[].concat.apply([],r),d,stir.clone)(f),u=stir.filter(r=>!!r.applyCode,f);const h=a(stir.filter(r=>r.title,g)),b=n(u);d=stir.map(r=>{return t=r,(r=h(b(r))).length?`<h2 id="${e(t)}" class="u-margin-top">${t}</h2>`+r.map(i).join(""):"";var t},y).join("");m(r,`<nav class="u-columns-2 u-bg-grey u-bleed bg-grey u-padding-y">${stir.map(r=>`<a href="#${e(r)}" class="u-block u-py-tiny">${r}</a>`,y).join("")}</nav>`+d),Array.prototype.forEach.call(r.querySelectorAll('[data-behaviour="accordion"]'),function(r){new stir.accord(r,!1)})}(stir.node(".courselisting"));