!function(r){if(!r)return;const e={"UDX16-PSY":"BSc (Hons) Psychology","UDX12-PSY":"BA (Hons) Psychology"};const i=r=>`<div data-behaviour=accordion>
                  <h3>${[r.prefix,r.title].join(" ").trim()}</h3>
                  <div><p>Apply now for:</p>
                    <ul>
                      ${t(r)}
                      ${s(r.combinations)}
                    </ul>
                  </div>
                </div>`,a=stir.curry((r,t,i)=>t?`<a href="${r+t}" class="u-border-bottom-hover">${i}</a>`:i)("https://portal.stir.ac.uk/student/course-application/ugd/application.jsp?crsCode="),t=l=>l.applyCode&&l.applyCode.split(", ").map((r,t,i)=>{s=r.trim();var s,o=(o=b.find(r=>r.applyCode===s))?" "+o.append:"",o=(e[r.trim()]||[l.prefix,l.title].join(" ").trim())+o;return r?`<li>${a(r.trim(),o)} <small>${1<i.length?" ("+r+")":""}</small></li>`:`<!-- ${l.title} -->`}).join("\n"),s=r=>r?r.map(r=>`<li>${a(r.codes.apply,[r.prefix,r.title].join(" ").trim())}</li>`).join("\n"):null,o=r=>r.replace(/[^a-zA-Z]/g,"-").toLowerCase();var l=stir.curry((t,r)=>stir.map(r=>({...r,combinations:p(t,r)}),r));const n=stir.curry((r,t)=>-1!==t.subject.indexOf(r));var c=stir.curry((r,t)=>stir.filter(n(t),r));const p=(r,t)=>r.filter(r=>r.courses&&r.courses.filter(r=>r.url===t.url).length);var u=stir.reduce((r,t)=>r.includes(t)?r:[...r,t],[]),d=stir.map(r=>r.subject&&r.subject.split(/,\s+/g)),y=stir.filter(r=>r),m=stir.curry((r,t)=>(stir.setHTML(r,t),!0)),f=stir.t4globals.courses||[],g=stir.t4globals.combos||[];const b=stir.t4globals.titleAppends||[];y=stir.compose(stir.sort(null),y,u,r=>[].concat.apply([],r),d,stir.clone)(f),u=stir.filter(r=>!!r.applyCode,f);const h=l(stir.filter(r=>r.title,g)),v=c(u);d=stir.map(r=>{return t=r,(r=h(v(r))).length?`<h2 id="${o(t)}" class="u-margin-top">${t}</h2>`+r.map(i).join(""):"";var t},y).join("");m(r,`<nav class="u-columns-2 u-bg-grey u-bleed bg-grey u-padding-y">${stir.map(r=>`<a href="#${o(r)}" class="u-block u-py-tiny">${r}</a>`,y).join("")}</nav>`+d),Array.prototype.forEach.call(r.querySelectorAll('[data-behaviour="accordion"]'),function(r){new stir.accord(r,!1)})}(stir.node(".courselisting"));