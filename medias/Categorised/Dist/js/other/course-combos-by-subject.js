!function(r){if(!r)return;const o={"UDX16-PSY":"BSc (Hons) Psychology","UDX12-PSY":"BA (Hons) Psychology"};const t=r=>`<div data-behaviour=accordion>
                  <h3>${[r.prefix,r.title].join(" ").trim()}</h3>
                  <div><p>Apply now for:</p>
                    <ul>
                      ${i(r)}
                      ${s(r.combinations)}
                    </ul>
                  </div>
                </div>`,l=stir.curry((r,i,t)=>i?`<a href="${r+i}">${t}</a>`:t)("https://portal.stir.ac.uk/student/course-application/ugd/application.jsp?crsCode="),i=s=>s.applyCode&&s.applyCode.split(", ").map((r,i,t)=>r?`<li>${l(r.trim(),o[r.trim()]||[s.prefix,s.title].join(" ").trim())} <small>${1<t.length?" ("+r+")":""}</small></li>`:`<!-- ${s.title} -->`).join("\n"),s=r=>r?r.map(r=>`<li>${l(r.codes.apply,[r.prefix,r.title].join(" ").trim())}</li>`).join("\n"):null,e=r=>r.replace(/[^a-zA-Z]/g,"-").toLowerCase();var a=stir.curry((i,r)=>stir.map(r=>({...r,combinations:p(i,r)}),r));const c=stir.curry((r,i)=>-1!==i.subject.indexOf(r));var n=stir.curry((r,i)=>stir.filter(c(i),r));const p=(r,i)=>r.filter(r=>r.courses&&r.courses.filter(r=>r.url===i.url).length);var u=stir.reduce((r,i)=>r.includes(i)?r:[...r,i],[]),d=stir.map(r=>r.subject&&r.subject.split(/,\s+/g)),m=stir.filter(r=>r),y=stir.curry((r,i)=>(stir.setHTML(r,i),!0)),f=stir.t4globals.courses||[],g=stir.t4globals.combos||[],m=stir.compose(stir.sort(null),m,u,r=>[].concat.apply([],r),d,stir.clone)(f),u=stir.filter(r=>!!r.applyCode,f);const b=a(stir.filter(r=>r.title,g)),h=n(u);d=stir.map(r=>{return i=r,(r=b(h(r))).length?`<h2 id="${e(i)}" class="u-margin-top">${i}</h2>`+r.map(t).join(""):"";var i},m).join("");y(r,`<nav class="u-columns-2 u-bg-grey u-bleed bg-grey u-padding-y">${stir.map(r=>`<a href="#${e(r)}" class="u-inline-block u-mb-1">${r}</a>`,m).join("")}</nav>`+d),Array.prototype.forEach.call(r.querySelectorAll('[data-behaviour="accordion"]'),function(r){new stir.accord(r,!1)})}(stir.node(".courselisting"));