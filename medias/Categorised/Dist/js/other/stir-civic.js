var stir=stir||{};stir.cookieControl=function(){var t="Stir Cookie Control",o="www.stir.ac.uk"!=window.location.hostname,r=[],e=Array.prototype.slice.call(document.querySelectorAll("script[data-optin]"));function n(){function e(){console.log("clicked");var e,t=document.getElementById("ccc-dismiss-button");t&&((e=document.getElementById("ccc-button-holder"))&&e.appendChild(t),console.info("Move button",{button:t}))}var t=document.getElementById("ccc-icon");t&&e(),t&&t.addEventListener("click",e)}function c(e){Array.prototype.slice.call(document.querySelectorAll('script[data-optin-thanks][data-category="'+e+'"]')).forEach(function(e,t){e.insertAdjacentHTML("afterend",e.innerHTML),e.remove()})}function i(){CookieControl.changeCategory(2,!0)}return e.forEach(function(e,t){var o=document.createElement("button"),n=document.createElement("div");o.innerText="Okay",o.setAttribute("class","button"),o.addEventListener("click",i),n.innerHTML="<p>Thirdparty media element - privacy opt-in</p>",n.setAttribute("class","u-bg-dark-grey u-white--all cell u-padding-y text-center"),n.appendChild(o),r.push({template:e,placeholder:n,button:o})}),{accept:function(){o&&console.info("["+t+"] ACCEPTED"),r.forEach(function(e){e.placeholder.parentElement&&e.placeholder.parentElement.removeChild(e.placeholder),e.template.insertAdjacentHTML("afterend",e.template.innerHTML)})},revoke:function(){o&&console.info("["+t+"] REVOKED"),o&&!confirm("[Debug] Page will now reload to remove the 3rd party content.")||window.location.reload()},init:function(){if(!window.CookieControl)return console.error("["+t+"] Civic CookieControl not initialised. ");var e;n(),o&&console.info("["+t+"] Initialisingâ€¦"),CookieControl.getCategoryConsent(2)||(o&&console.info("["+t+"] 3rd party cookie consent not given, adding placeholders."),r.forEach(function(e,t){e.template.insertAdjacentElement("afterend",e.placeholder)})),CookieControl.getCategoryConsent(1)?c(1):(o&&console.info("["+t+"] Performance cookie consent not given, activate request thing."),e=1,Array.prototype.slice.call(document.querySelectorAll('script[data-optin-appeal][data-category="'+e+'"]')).forEach(function(e,t){e.insertAdjacentHTML("afterend",e.innerHTML),e.remove()}))},activateCategory:c}}();