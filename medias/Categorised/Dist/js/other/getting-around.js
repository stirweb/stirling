var UoS_GettingAround=function(){for(var e="Residences",o="Sports",n="Buildings",t="Food and drink",a="Car parking",r="Disabled parking",i="Short stay car parking",s="Electric bike hire",c="Electric car charging point",d="Drop off point",p="No vehicular access",u=[{name:"Campus Central / Atrium",type:n,coords:"56.145922, -3.920283"},{name:"Students' Union",type:n,coords:"56.145926, -3.918393"},{name:"Queens Court drop off point",type:d,coords:"56.144959, -3.920038"},{name:"No vehicular access - pedestrians only",type:p,coords:"56.145610, -3.923317"},{name:"No vehicular access - pedestrians only",type:p,coords:"56.145245, -3.920502"},{name:"Parking",type:a,coords:"56.149712, -3.925524"},{name:"Disabled Parking",type:r,coords:"56.145336, -3.920214"},{name:"Disabled Parking",type:r,coords:"56.149366, -3.916759"},{name:"Disabled Parking",type:r,coords:"56.148727, -3.913141"},{name:"Disabled Parking",type:r,coords:"56.149104, -3.906754"},{name:"Disabled Parking",type:r,coords:"56.148378, -3.927181"},{name:"Disabled Parking",type:r,coords:"56.149931, -3.926829"},{name:"Disabled Parking",type:r,coords:"56.145243, -3.922320"},{name:"Disabled Parking",type:r,coords:"56.144765, -3.921848"},{name:"Disabled Parking",type:r,coords:"56.143794, -3.919998"},{name:"Disabled Parking",type:r,coords:"56.143627, -3.923367"},{name:"Parking",type:a,coords:"56.148595, -3.928518"},{name:"Parking",type:a,coords:"56.148320, -3.926168"},{name:"Parking",type:a,coords:"56.149372, -3.922807"},{name:"Parking",type:a,coords:"56.149416, -3.921820"},{name:"Parking",type:a,coords:"56.148940, -3.919535"},{name:"Parking",type:a,coords:"56.149215, -3.915994"},{name:"Parking",type:a,coords:"56.148767, -3.913752"},{name:"Parking",type:a,coords:"56.149469, -3.910930"},{name:"Parking",type:a,coords:"56.149603, -3.909943"},{name:"Parking",type:a,coords:"56.148790, -3.906778"},{name:"Disabled Parking",type:r,coords:"56.146569, -3.925578"},{name:"Parking",type:a,coords:"56.145128, -3.923044"},{name:"Parking",type:a,coords:"56.143813, -3.923044"},{name:"Parking",type:a,coords:"56.142424, -3.921624"},{name:"Parking",type:a,coords:"56.143172, -3.919779"},{name:"Parking",type:a,coords:"56.142968, -3.918878"},{name:"Parking",type:a,coords:"56.143435, -3.918148"},{name:"Parking",type:a,coords:"56.142472, -3.913620"},{name:"The Bite",type:t,coords:"56.144471, -3.920713"},{name:"Haldane's",type:t,coords:"56.145882, -3.918882"},{name:"Scran",type:t,coords:"56.146062, -3.920032"},{name:"SUP",type:t,coords:"56.145762, -3.920271"},{name:"Pathfoot Dining Room",type:t,coords:"56.149127, -3.925329"},{name:"Crush Hall Pod",type:t,coords:"56.149494, -3.926526"},{name:"Stirling Court Hotel",type:t,coords:"56.143324, -3.922643"},{name:"Food and Drink at Macrobert",type:t,coords:"56.145644, -3.920007"},{name:"Nourish",type:t,coords:"56.145701, -3.924482"},{name:"Refresh Bar and Bistro",type:t,coords:"56.149127, -3.92082"},{name:"Students’ Union",description:"Studio, Underground and Venue",type:t,coords:"56.146026, -3.918340"},{name:"UMAMI",type:t,coords:"56.144384, -3.921226"},{name:"Parking",type:i,coords:"56.143692, -3.919897"},{name:"Alangrange",type:e,coords:"56.150993, -3.929349"},{name:"Alexander Court",type:e,coords:"56.149023, -3.906662"},{name:"Andrew Stewart Hall",type:e,coords:"56.148859, -3.922686"},{name:"Beech Court",type:e,coords:"56.148575,-3.919705"},{name:"Fraser of Allander House",type:e,coords:"56.148525, -3.921504"},{name:"Friarscroft",type:e,coords:"56.140727,-3.9261935"},{name:"H H Donnelly House",type:e,coords:"56.149045, -3.921639"},{name:"John Forty's Court",type:e,coords:"56.129741, -3.934522"},{name:"Juniper Court Standard Flats",type:e,coords:"56.149070, -3.917518"},{name:"Lyon Crescent",type:e,coords:"56.149936, -3.947224"},{name:"Muirhead House",type:e,coords:"56.149126, -3.919097"},{name:"Pendreich Way",type:e,coords:"56.149918, -3.924077"},{name:"Polwarth House",type:e,coords:"56.148953, -3.920406"},{name:"Spittal Hill",type:e,coords:"56.141321, -3.92499"},{name:"Thistle Chambers",type:e,coords:"56.118522, -3.935718"},{name:"Union Street, Bridge of Allan",type:e,coords:"56.154105, -3.948818"},{name:"Union Street Development",type:e,coords:"56.126040, -3.940609"},{name:"Willow Court",type:e,coords:"56.149183, -3.921046"},{name:"Swimming pool",type:o,coords:"56.146876, -3.925188"},{name:"Sports Pavilion",type:o,coords:"56.149051,-3.910593"},{name:"Sports Facilities",type:o,coords:"56.145705, -3.924490"},{name:"National Tennis Centre",type:o,coords:"56.145541, -3.925086"},{name:"Airthrey Castle",type:n,coords:"56.148213,-3.913375"},{name:"Pathfoot Building",type:n,coords:"56.149210,-3.926748"},{name:"Colin Bell Building",type:n,coords:"56.143963, -3.917316"},{name:"Iris Murdoch Building",type:n,coords:"56.143974, -3.91697"},{name:"Macrobert Arts Centre",type:n,coords:"56.145636,-3.920355"},{name:"Airthrey Medical Centre",type:n,coords:"56.149604, -3.917463"},{name:"Innovation Park",type:n,coords:"56.142750, -3.917021"},{name:"Stirling Court Hotel",type:n,coords:"56.143324, -3.922643"},{name:"Scottish Institute of Sport",type:n,coords:"56.143065, -3.926171"},{name:"Cottrell Building",type:n,coords:"56.145389, -3.921220"},{name:"INTO Building",type:n,coords:"56.144384, -3.921226"},{name:"Electric bike hire (Willow Café)",type:s,coords:"56.149110, -3.921319"},{name:"Electric bike hire (Alexander Court)",type:s,coords:"56.148906, -3.906572"},{name:"Electric bike hire (Logie Lecture Theatre)",type:s,coords:"56.1440120196455, -3.9208456710246353"},{name:"Electric bike hire (main entrance)",type:s,coords:"56.14778780222907, -3.928491928458595"},{name:"Electric Car Charge Point",type:c,coords:"56.144836, -3.922242"},{name:"Electric Car Charge Point",type:c,coords:"56.149575, -3.925748"},{name:"Electric Bikes",type:s,coords:"56.144053, -3.920842"}],m="dev"===UoS_env.name,l=UoS_env.wc_path+"/images/markers/",g=0;g<u.length;g++)switch(u[g].type){case t:u[g].icon=m?l+"food_and_drink.png":'<t4 type="media" id="158271" formatter="path/*" />',u[g].usoIconClassName="uos-fork-knife";continue;case e:u[g].icon=m?l+"residences.png":'<t4 type="media" id="158276" formatter="path/*" />',u[g].usoIconClassName="uos-home";continue;case n:u[g].icon=m?l+"buildings.png":'<t4 type="media" id="158266" formatter="path/*" />',u[g].usoIconClassName="uos-history-large";continue;case o:u[g].icon=m?l+"sports_facilities.png":'<t4 type="media" id="158278" formatter="path/*" />',u[g].usoIconClassName="uos-runner";continue;case a:u[g].icon=m?l+"parking.png":'<t4 type="media" id="158274" formatter="path/*" />',u[g].usoIconClassName="uos-car";continue;case r:u[g].icon=m?l+"disabled_parking.png":'<t4 type="media" id="158267" formatter="path/*" />',u[g].usoIconClassName="uos-wheelchair";continue;case i:u[g].icon=m?l+"short-stay-car-park.png":'<t4 type="media" id="158277" formatter="path/*" />',u[g].usoIconClassName="uos-car";continue;case c:u[g].icon=m?l+"electric-charge.png":'<t4 type="media" id="158270" formatter="path/*" />',u[g].usoIconClassName="uos-car";continue;case d:u[g].icon=m?l+"drop-off.png":'<t4 type="media" id="158268" formatter="path/*" />',u[g].usoIconClassName="uos-car";continue;case p:u[g].icon=m?l+"no_road_access.png":'<t4 type="media" id="158273" formatter="path/*" />',u[g].usoIconClassName="uos-pedestrian";continue;case s:u[g].icon=m?l+"electric-bike.png":'<t4 type="media" id="158269" formatter="path/*" />',u[g].usoIconClassName="uos-bike";continue}var y,h,k={zoom:16,center:{lat:56.14643094488868,lng:-3.918399958166454},travelMode:"WALKING",checkCurrentLocationWithinBounds:!0},f=[e,o,n];const C=e=>{var o=groupselect.options[groupselect.selectedIndex].value;e.marker.setMap(e.type===o?y:null)},P=()=>u.forEach(C);function v(e,n){var o=stir.node("#getting-around-directions__origin"),o=o.options[o.selectedIndex].value,t=stir.node("#getting-around-directions__destination"),t=t.options[t.selectedIndex].value;o&&t&&o!==t&&(h.close(),e.route({origin:o,destination:t,travelMode:k.travelMode},function(e,o){"OK"===o?n.setDirections(e):window.alert("Directions request failed due to "+o)}))}return{initMap:function(){var n=new google.maps.DirectionsService,t=new google.maps.DirectionsRenderer,e=new google.maps.LatLngBounds;y=new google.maps.Map(document.getElementById("getting-around__map"),{zoom:k.zoom,center:k.center}),t.setMap(y),h=new google.maps.InfoWindow;for(var o,a=0;a<u.length;a++)markerOptions={position:(o=u[a].coords,{lat:parseFloat(o.split(",")[0]),lng:parseFloat(o.split(",")[1])}),map:y,title:u[a].title},void 0!==u[a].icon&&(markerOptions.icon=u[a].icon),u[a].marker=new google.maps.Marker(markerOptions),google.maps.event.addListener(u[a].marker,"click",function(o,n){return function(){var e="";-1<f.indexOf(u[n].type)&&(e=""),h.setContent("<p><strong>"+u[n].name+"</strong></p>"+(u[n].description?"<p>"+u[n].description+"</p>":"")+'<p><span class="'+u[n].usoIconClassName+'"></span> '+u[n].type+"</strong></p>"+e),h.open(y,o)}}(u[a].marker,a)),e.extend(u[a].marker.position);k.center&&k.zoom?(y.setCenter(new google.maps.LatLng(k.center.lat,k.center.lng)),y.setZoom(k.zoom)):y.fitBounds(e);for(var r,i,s,c,d={},p=[],a=0;a<u.length;a++)d[u[a].type]||(d[u[a].type]=[]),d[u[a].type].push(u[a]),p.push(u[a].name);for(c in r=document.getElementById("getting-around-directions__origin"),end=document.getElementById("getting-around-directions__destination"),groupselect=document.createElement("select"),i=document.getElementById("filters"),(s=document.createElement("label")).textContent="Mark locations on the map:",s.appendChild(groupselect),i.appendChild(s),d){-1<f.indexOf(c)&&(d[(optgroup=document.createElement("optgroup")).label=c].forEach(e=>{var o=document.createElement("option");o.value=e.coords.replace(/\s/gi,""),o.textContent=e.name,optgroup.appendChild(o)}),r.appendChild(optgroup),end.appendChild(optgroup.cloneNode(!0)));var m=document.createElement("option");m.textContent=c,groupselect.appendChild(m)}function l(){v(n,t)}stir.nodes("input[name='travelmode']").forEach(o=>{o.addEventListener("click",function(e){k.travelMode=o.value.toUpperCase(),v(n,t)})}),document.getElementById("getting-around-directions__origin").addEventListener("change",l),document.getElementById("getting-around-directions__destination").addEventListener("change",l),i.addEventListener("change",P);for(var g=document.getElementsByClassName("filter"),a=0;a<g.length;a++)"checkbox"===g[a].type&&"Buildings"===g[a].name&&(g[a].checked=!0);P()},setDirectionsFromLink:function(e){return e.preventDefault(),!1},setGoogleMapsLink:function(){}}}();