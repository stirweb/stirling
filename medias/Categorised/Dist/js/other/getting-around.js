var UoS_GettingAround=function(){for(var e="Residences",o="Sports",n="Buildings",t="Food and drink",a="NextBike",r="Car parking",i="Disabled parking",s="Short stay car parking",c="Electric bike hire",d="Electric car charging point",p="Drop off point",m="No vehicular access ",y=[{name:"Campus Central / Atrium",type:n,coords:"56.145922, -3.920283"},{name:"Students' Union",type:n,coords:"56.145926, -3.918393"},{name:"Queens Court drop off point",type:p,coords:"56.144959, -3.920038"},{name:"No vehicular access - pedestrians only",type:m,coords:"56.145610, -3.923317"},{name:"No vehicular access - pedestrians only",type:m,coords:"56.145245, -3.920502"},{name:"Parking",type:r,coords:"56.149712, -3.925524"},{name:"Disabled Parking",type:i,coords:"56.145336, -3.920214"},{name:"Disabled Parking",type:i,coords:"56.149366, -3.916759"},{name:"Disabled Parking",type:i,coords:"56.148727, -3.913141"},{name:"Disabled Parking",type:i,coords:"56.149104, -3.906754"},{name:"Disabled Parking",type:i,coords:"56.148378, -3.927181"},{name:"Disabled Parking",type:i,coords:"56.149931, -3.926829"},{name:"Disabled Parking",type:i,coords:"56.145243, -3.922320"},{name:"Disabled Parking",type:i,coords:"56.144765, -3.921848"},{name:"Disabled Parking",type:i,coords:"56.143794, -3.919998"},{name:"Disabled Parking",type:i,coords:"56.143627, -3.923367"},{name:"Parking",type:r,coords:"56.148595, -3.928518"},{name:"Parking",type:r,coords:"56.148320, -3.926168"},{name:"Parking",type:r,coords:"56.149372, -3.922807"},{name:"Parking",type:r,coords:"56.149416, -3.921820"},{name:"Parking",type:r,coords:"56.148940, -3.919535"},{name:"Parking",type:r,coords:"56.149215, -3.915994"},{name:"Parking",type:r,coords:"56.148767, -3.913752"},{name:"Parking",type:r,coords:"56.149469, -3.910930"},{name:"Parking",type:r,coords:"56.149603, -3.909943"},{name:"Parking",type:r,coords:"56.148790, -3.906778"},{name:"Disabled Parking",type:i,coords:"56.146569, -3.925578"},{name:"Parking",type:r,coords:"56.145128, -3.923044"},{name:"Parking",type:r,coords:"56.143813, -3.923044"},{name:"Parking",type:r,coords:"56.142424, -3.921624"},{name:"Parking",type:r,coords:"56.143172, -3.919779"},{name:"Parking",type:r,coords:"56.142968, -3.918878"},{name:"Parking",type:r,coords:"56.143435, -3.918148"},{name:"Parking",type:r,coords:"56.142472, -3.913620"},{name:"The Bite",type:t,coords:"56.144471, -3.920713"},{name:"Haldane's",type:t,coords:"56.145882, -3.918882"},{name:"Scran",type:t,coords:"56.146062, -3.920032"},{name:"SUP",type:t,coords:"56.145762, -3.920271"},{name:"Pathfoot Dining Room",type:t,coords:"56.149127, -3.925329"},{name:"Crush Hall Pod",type:t,coords:"56.149494, -3.926526"},{name:"Stirling Court Hotel",type:t,coords:"56.143324, -3.922643"},{name:"Food and Drink at Macrobert",type:t,coords:"56.145644, -3.920007"},{name:"Nourish",type:t,coords:"56.145701, -3.924482"},{name:"Refresh Bar and Bistro",type:t,coords:"56.149127, -3.92082"},{name:"Students’ Union",description:"Studio, Underground and Venue",type:t,coords:"56.146026, -3.918340"},{name:"UMAMI",type:t,coords:"56.144384, -3.921226"},{name:"Parking",type:s,coords:"56.143692, -3.919897"},{name:"Alangrange",type:e,coords:"56.150993, -3.929349"},{name:"Alexander Court",type:e,coords:"56.149023, -3.906662"},{name:"Andrew Stewart Hall",type:e,coords:"56.148859, -3.922686"},{name:"Beech Court",type:e,coords:"56.148575,-3.919705"},{name:"Fraser of Allander House",type:e,coords:"56.148525, -3.921504"},{name:"Friarscroft",type:e,coords:"56.140727,-3.9261935"},{name:"H H Donnelly House",type:e,coords:"56.149045, -3.921639"},{name:"John Forty's Court",type:e,coords:"56.129741, -3.934522"},{name:"Juniper Court Standard Flats",type:e,coords:"56.149070, -3.917518"},{name:"Lyon Crescent",type:e,coords:"56.149936, -3.947224"},{name:"Muirhead House",type:e,coords:"56.149126, -3.919097"},{name:"Pendreich Way",type:e,coords:"56.149918, -3.924077"},{name:"Polwarth House",type:e,coords:"56.148953, -3.920406"},{name:"Spittal Hill",type:e,coords:"56.141321, -3.92499"},{name:"Thistle Chambers",type:e,coords:"56.118522, -3.935718"},{name:"Union Street, Bridge of Allan",type:e,coords:"56.154105, -3.948818"},{name:"Union Street Development",type:e,coords:"56.126040, -3.940609"},{name:"Willow Court",type:e,coords:"56.149183, -3.921046"},{name:"Swimming pool",type:o,coords:"56.146876, -3.925188"},{name:"Sports Pavilion",type:o,coords:"56.149051,-3.910593"},{name:"Sports Facilities",type:o,coords:"56.145705, -3.924490"},{name:"National Tennis Centre",type:o,coords:"56.145541, -3.925086"},{name:"Airthrey Castle",type:n,coords:"56.148213,-3.913375"},{name:"Pathfoot Building",type:n,coords:"56.149210,-3.926748"},{name:"Colin Bell Building",type:n,coords:"56.143963, -3.917316"},{name:"Iris Murdoch Building",type:n,coords:"56.143974, -3.91697"},{name:"Macrobert Arts Centre",type:n,coords:"56.145636,-3.920355"},{name:"Airthrey Medical Centre",type:n,coords:"56.149604, -3.917463"},{name:"Innovation Park",type:n,coords:"56.142750, -3.917021"},{name:"Stirling Court Hotel",type:n,coords:"56.143324, -3.922643"},{name:"Scottish Institute of Sport",type:n,coords:"56.143065, -3.926171"},{name:"Cottrell Building",type:n,coords:"56.145389, -3.921220"},{name:"INTO Building",type:n,coords:"56.144384, -3.921226"},{name:"NextBike Willow Café",type:a,coords:"56.149110, -3.921319"},{name:"NextBike Alexander Court",type:a,coords:"56.148906, -3.906572"},{name:"NextBike Cottrell Building",type:a,coords:"56.144154, -3.922263"},{name:"Electric Car Charge Point",type:d,coords:"56.144836, -3.922242"},{name:"Electric Car Charge Point",type:d,coords:"56.149575, -3.925748"},{name:"Electric Bikes",type:c,coords:"56.144053, -3.920842"}],l="dev"===UoS_env.name,g=UoS_env.wc_path+"/images/markers/",u=0;u<y.length;u++)switch(y[u].type){case t:y[u].icon=l?g+"food_and_drink.png":'<t4 type="media" id="158271" formatter="path/*" />',y[u].usoIconClassName="uos-fork-knife";continue;case e:y[u].icon=l?g+"residences.png":'<t4 type="media" id="158276" formatter="path/*" />',y[u].usoIconClassName="uos-home";continue;case n:y[u].icon=l?g+"buildings.png":'<t4 type="media" id="158266" formatter="path/*" />',y[u].usoIconClassName="uos-history-large";continue;case o:y[u].icon=l?g+"sports_facilities.png":'<t4 type="media" id="158278" formatter="path/*" />',y[u].usoIconClassName="uos-runner";continue;case a:y[u].icon=l?g+"nextbike.png":'<t4 type="media" id="158272" formatter="path/*" />';continue;case r:y[u].icon=l?g+"parking.png":'<t4 type="media" id="158274" formatter="path/*" />',y[u].usoIconClassName="uos-car";continue;case i:y[u].icon=l?g+"disabled_parking.png":'<t4 type="media" id="158267" formatter="path/*" />',y[u].usoIconClassName="uos-wheelchair";continue;case s:y[u].icon=l?g+"short-stay-car-park.png":'<t4 type="media" id="158277" formatter="path/*" />',y[u].usoIconClassName="uos-car";continue;case d:y[u].icon=l?g+"electric-charge.png":'<t4 type="media" id="158270" formatter="path/*" />',y[u].usoIconClassName="uos-car";continue;case p:y[u].icon=l?g+"drop-off.png":'<t4 type="media" id="158268" formatter="path/*" />',y[u].usoIconClassName="uos-car";continue;case m:y[u].icon=l?g+"no_road_access.png":'<t4 type="media" id="158273" formatter="path/*" />',y[u].usoIconClassName="uos-pedestrian";continue;case c:y[u].icon=l?g+"electric-bike.png":'<t4 type="media" id="158269" formatter="path/*" />',y[u].usoIconClassName="uos-bike";continue}var h,k,f={zoom:16,center:{lat:56.14643094488868,lng:-3.918399958166454},travelMode:"WALKING",checkCurrentLocationWithinBounds:!0},C=[e,o,n];function v(){return y.forEach(P)}var P=function(e){var o=groupselect.options[groupselect.selectedIndex].value;e.marker.setMap(e.type===o?h:null)};function B(e){return{lat:parseFloat(e.split(",")[0]),lng:parseFloat(e.split(",")[1])}}function I(e,n){var o=stir.node("#getting-around-directions__origin"),o=o.options[o.selectedIndex].value,t=stir.node("#getting-around-directions__destination"),t=t.options[t.selectedIndex].value;o&&t&&o!==t&&(k.close(),e.route({origin:o,destination:t,travelMode:f.travelMode},function(e,o){"OK"===o?n.setDirections(e):window.alert("Directions request failed due to "+o)}))}return{initMap:function(){var o=new google.maps.DirectionsService,n=new google.maps.DirectionsRenderer,e=new google.maps.LatLngBounds;h=new google.maps.Map(document.getElementById("getting-around__map"),{zoom:f.zoom,center:f.center}),n.setMap(h),k=new google.maps.InfoWindow;for(var t=0;t<y.length;t++)markerOptions={position:B(y[t].coords),map:h,title:y[t].title},void 0!==y[t].icon&&(markerOptions.icon=y[t].icon),y[t].marker=new google.maps.Marker(markerOptions),google.maps.event.addListener(y[t].marker,"click",function(o,n){return function(){var e="";-1<C.indexOf(y[n].type)&&(e=""),k.setContent("<p><strong>"+y[n].name+"</strong></p>"+(y[n].description?"<p>"+y[n].description+"</p>":"")+'<p><span class="'+y[n].usoIconClassName+'"></span> '+y[n].type+"</strong></p>"+e),k.open(h,o)}}(y[t].marker,t)),e.extend(y[t].marker.position);f.center&&f.zoom?(h.setCenter(new google.maps.LatLng(f.center.lat,f.center.lng)),h.setZoom(f.zoom)):h.fitBounds(e);for(var a,r,i={},s=[],t=0;t<y.length;t++)i[y[t].type]||(i[y[t].type]=[]),i[y[t].type].push(y[t]),s.push(y[t].name);var c,d=document.getElementById("getting-around-directions__origin");for(c in end=document.getElementById("getting-around-directions__destination"),groupselect=document.createElement("select"),a=document.getElementById("filters"),(r=document.createElement("label")).textContent="Mark locations on the map:",r.appendChild(groupselect),a.appendChild(r),i){-1<C.indexOf(c)&&(i[(optgroup=document.createElement("optgroup")).label=c].forEach(function(e){var o=document.createElement("option");o.value=e.coords.replace(/\s/gi,""),o.textContent=e.name,optgroup.appendChild(o)}),d.appendChild(optgroup),end.appendChild(optgroup.cloneNode(!0)));var p=document.createElement("option");p.textContent=c,groupselect.appendChild(p)}var m=stir.node("#getting-around__suggestions"),l=stir.node("#getting-around__suggestions-input");for(s.sort(),t=0;t<s.length;t++)m.append('<option value="'+s[t]+'">');function g(){I(o,n)}l.addEventListener("change",function(e){for(var o,n,t=0;t<y.length;t++)y[t].name===this.value&&(o=y[t]);o&&(n=B(o.coords),h.setCenter(new google.maps.LatLng(n.lat,n.lng)),h.setZoom(17),k.setContent("<p><strong>"+o.name+"</strong></p>"+(o.description?"<p>"+o.description+"</p>":"")),k.open(h,o.marker)),l.value=""}),stir.nodes("input[name='travelmode']").forEach(function(e){f.travelMode=e.value.toUpperCase(),I(o,n)}),document.getElementById("getting-around-directions__origin").addEventListener("change",g),document.getElementById("getting-around-directions__destination").addEventListener("change",g),a.addEventListener("change",v);for(var u=document.getElementsByClassName("filter"),t=0;t<u.length;t++)"checkbox"===u[t].type&&"Buildings"===u[t].name&&(u[t].checked=!0);v()},setDirectionsFromLink:function(e){return e.preventDefault(),!1},setGoogleMapsLink:function(){}}}();