document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("mobilemenubutton"),t=document.getElementById("mobilemenu");if(t&&n){const l=(e,n={},r=[])=>{const t=document.createElement(e);return Object.entries(n).forEach(([e,n])=>{"className"===e?t.className=n:"innerHTML"===e?t.innerHTML=n:t.setAttribute(e,n)}),r.forEach(e=>t.appendChild(e)),t},o=()=>l("span",{className:"dropdown-icon",innerHTML:"+"}),i=(e,n,r=1)=>{return e.className=(n?"mobile-nav-link parent":"mobile-nav-link")+" level-"+r,e},a=(n,r)=>e=>{e.preventDefault();e=n.classList.contains("show");n.classList.toggle("show"),r.innerHTML=e?"+":"-"},c=(e,t=2)=>(e.className="mobile-nav-children level-"+t,Array.from(e.querySelectorAll(":scope > li")).forEach(e=>{var n,r=e.querySelector(":scope > a"),e=e.querySelector(":scope > ul");r&&e?(i(r,!0,t),n=o(),r.appendChild(n),c(e,t+1),r.addEventListener("click",a(e,n))):r&&i(r,!1,t)}),e),s=(e,n=1)=>{var r,t=e.querySelector(":scope > a"),l=e.querySelector(":scope > ul");return t&&(l?(i(t,!0,n),r=o(),t.appendChild(r),c(l,n+1),t.addEventListener("click",a(l,r))):i(t,!1,n)),e},r=e=>{e=(new DOMParser).parseFromString(e,"text/html").querySelector("ul");if(!e)return null;e=e.querySelector(":scope > li");if(!e)return null;e=e.querySelector(":scope > ul");if(!e)return null;const n=l("ul",{className:"mobile-menu-main-list"});return Array.from(e.querySelectorAll(":scope > li")).forEach(e=>{e=s(e.cloneNode(!0),1);n.appendChild(e)}),n};n&&n.addEventListener("click",()=>{var e=t.classList.contains("hide");t.classList.toggle("hide"),n.setAttribute("aria-expanded",e?"true":"false"),e&&!t.querySelector(".mobile-menu-main-list")&&(t.innerHTML='<div class="text-center"><em>Loading menu...</em></div>',mobileLinksUrl)&&fetch(mobileLinksUrl).then(e=>{if(e.ok)return e.text();throw new Error("Failed to load sitemap")}).then(e=>{e=r(e);if(!e)throw new Error("Could not process sitemap structure");t.innerHTML="",t.appendChild(e)}).catch(e=>{console.error("Error loading menu:",e);e=document.querySelector(".site-navigation");if(e){const r=l("ul",{className:"mobile-menu-main-list"});Array.from(e.querySelectorAll("a")).forEach(e=>{var n=l("li"),e=e.cloneNode(!0);n.appendChild(e),r.appendChild(s(n))}),t.innerHTML="",t.appendChild(r)}else t.innerHTML='<div class="text-center"><em>Menu could not be loaded</em></div>'})})}});