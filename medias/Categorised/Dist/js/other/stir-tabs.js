var stir=stir||{};stir.tabhelper=function(){var t=0;return{getId:function(){return++t}}}(),stir.tabs=function(e,t){if(!e)return;const l=(!e.dataset.deeplink||"false"!==e.dataset.deeplink)&&t;let i=!1,c=stir.MediaQuery.current;var s,d,o;window.location.hostname;const b=["small","medium"],a=Array.prototype.slice.call(e.children);const u=(t,e)=>(0===e?r:n)(t),r=t=>{t.classList.add("stir-tabs__tab--active"),t.children[0].setAttribute("aria-selected","true"),t.children[0].setAttribute("tabindex","-1"),t.nextElementSibling.removeAttribute("aria-hidden"),t.nextElementSibling.classList.remove("hide")},n=t=>{t.classList.remove("stir-tabs__tab--active"),t.children[0].setAttribute("aria-selected","false"),t.children[0].setAttribute("tabindex","0"),t.nextElementSibling.setAttribute("aria-hidden","true"),t.nextElementSibling.classList.add("hide")},h=(t,e)=>t.includes(e)?"accordion":"tabs",f=t=>t.filter(t=>{if(t.matches("h2,h3,h4"))return t}),m=t=>t.target.classList.contains("stir-tabs__tab")?t.target:("A"===t.target.nodeName||"BUTTON"===t.target.nodeName)&&t.target.parentNode&&t.target.parentNode.classList.contains("stir-tabs__tab")?t.target.parentNode:null,g=t=>(Array.prototype.slice.call(t.parentElement.children).forEach(t=>{t.classList.contains("stir-tabs__tab")&&n(t)}),r(t),!0),p=t=>(("true"===t.nextElementSibling.getAttribute("aria-hidden")?r:n)(t),!0);function v(t){var e,i=m(t);if(i){if(("tabs"===h(b,c)?g:p)(i),l&&(e="#"+i.nextElementSibling.id,history.replaceState?history.replaceState(null,null,e):location.hash=e),i.hasAttribute("data-tab-callback")){for(var a,r=window,n=i.getAttribute("data-tab-callback").split(".");0<n.length;){var s=n.shift();"function"==typeof r[s]?a=r[s]:void 0!==r[s]&&(r=r[s])}a&&a()}t.preventDefault()}}function A(){var t;(t=window.location.hash.slice(1))&&(t=e.querySelector('[aria-controls="'+t+'"]'))&&(i=!0,f(a).forEach(t=>{t.classList.contains("stir-tabs__tab--active")&&t.click()}),"true"!==t.getAttribute("aria-selected"))&&t.click()}return window.addEventListener("MediaQueryChange",()=>{var t;stir.MediaQuery.current!==c&&(c=stir.MediaQuery.current,h(b,c),t=a,e&&t&&f(t).forEach((t,e)=>{u(t,e)}),l)&&A()}),t=a,c,b,e.classList.add("stir-tabs"),e.setAttribute("role","tablist"),s=[],d=stir.tabhelper.getId(),o=0,f(t).forEach((t,e)=>{var i,a="DIV"===t.nextElementSibling.nodeName?t.nextElementSibling:null,r="_"+d+"_"+ ++o,n=document.createElement("button");t&&a&&0===t.children.length&&(s.push({id:o,control:t,panel:a}),n=n,a=a,r=r,(i=t).classList.add("stir-tabs__tab"),a.classList.add("stir-tabs__content"),i.setAttribute("role","tab"),a.setAttribute("data-tab-content",""),a.setAttribute("role","tabpanel"),a.setAttribute("tabindex","0"),n.innerText=i.innerText,stir.setHTML(i,""),a.id=a.id||"panel"+r,n.id=n.id||"tab"+r,n.setAttribute("aria-controls",a.id),a.setAttribute("aria-labelledby",n.id),i.appendChild(n),u(t,e))}),e.addEventListener("click",v),l&&A(),{isDeepLinked:function(){return i},getEl:function(){return e},getElement:function(){return e}}},function(){var t=stir.nodes('.stir-tabs,[data-behaviour="tabs"]');if(t){const e=t.map(t=>stir.tabs(t,!0)).filter(t=>{if(t.isDeepLinked())return t});e[0]&&setTimeout(function(){stir.scrollToElement(e[0].getElement(),120)},1500)}}();