function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){var e;if(r)return"string"==typeof r?_arrayLikeToArray(r,t):"Map"===(e="Object"===(e=Object.prototype.toString.call(r).slice(8,-1))&&r.constructor?r.constructor.name:e)||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ownKeys(t,r){var e,n=Object.keys(t);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(t),r&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,e)),n}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(e),!0).forEach(function(r){_defineProperty(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function _defineProperty(r,t,e){return(t=_toPropertyKey(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function _toPropertyKey(r){r=_toPrimitive(r,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(r,t){if("object"!==_typeof(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0===e)return("string"===t?String:Number)(r);e=e.call(r,t||"default");if("object"!==_typeof(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(r){var t,n,o,e,i,a,c,u,l,s,p;r&&(r=r,t=stir.curry(function(e,r){return stir.map(function(r){var t={combinations:n(e,r)};return _objectSpread(_objectSpread({},r),t)},r)}),n=function(r,t){var e=stir.map(function(r){return r.url}),n=stir.filter(function(r){if(e(r.courses).includes(t.url))return r}),o=stir.map(function(r){return{prefix:r.prefix,title:function(r,t){r=r.replace(t,"").replace(t+" and ","").replace(" and "+t,"");return(t+" and "+stir.filter(function(r){return""!==r},r.split(" and ")).join(" and ")).replace("and  with","with")}(r.title,t.title),applycode:r.codes.apply}}),i=stir.sort(function(r,t){return r.title<t.title?-1:r.title>t.title?1:0});return stir.compose(i,o,n)(r)},o=stir.curry(function(t,r){return"\n        <div data-behaviour=accordion>\n            <h3>".concat(r.prefix," ").concat(r.title,'</h3>\n            <div>\n                <ul>\n                    <li>\n                        <a href="').concat(t.applyUrl).concat(r.applyCode.split(", ")[0],'">\n                          ').concat(r.prefix," ").concat(r.title,"\n                        </a>\n                    </li>\n                    ").concat(stir.map(function(r){return'<li>\n                            <a href="'.concat(t.applyUrl).concat(r.applycode,'">').concat(r.prefix," ").concat(r.title,"</a>\n                          </li>")},r.combinations).join("")," \n                </ul>\n              </div>\n          </div>")}),e=stir.curry(function(r,t){return r.innerHTML=t,r}),i=stir.t4globals.courses||[],a=stir.t4globals.combos||[],i.length)&&a.length&&(c=stir.reduce(function(r,t){return r.includes(t)?r:[].concat(_toConsumableArray(r),[t])},[]),u=stir.map(function(r){return r.faculty}),l=stir.filter(function(r){return r}),l=stir.compose(stir.sort(null),l,c,u,stir.clone)(i),s=stir.clone(i),p=t(stir.compose(stir.filter(function(r){return r.title}),stir.clone)(a)),e(r,stir.map(function(t){return r={applyUrl:"https://portal.stir.ac.uk/student/course-application/ugd/application.jsp?crsCode=",faculty:t,courses:p(stir.filter(function(r){return r.faculty===t},s))},e=o(r),'\n        <h2 class="u-margin-top">'.concat(r.faculty,"</h2>\n        ").concat(stir.map(e,r.courses).join("")," ");var r,e},l).join("")),Array.prototype.forEach.call(r.querySelectorAll('[data-behaviour="accordion"]'),function(r){new stir.accord(r,!1)}))}(stir.node(".courselisting"));