window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,i){window.setTimeout(t,1e3/60)};var stir=stir||{};stir.snow=function(){var n,s,a,r=2*Math.PI;function t(t){this.canvas=document.getElementById("wintertime"),this.ctx=this.canvas.getContext("2d"),a=s=0,n=this.draw.bind(this),this.resize(),this.running=!0,this.mp=t||20,this.particles=[];for(var i=0;i<this.mp;i++)this.particles.push(this.flake("top"));this.ctx.fillStyle="white",this.ctx.strokeStyle="white",this.angle=.01,this.start()}return t.prototype.update=function(){this.angle+=.01;for(var t=2*Math.sin(this.angle),i=0;i<this.mp;i++){var e=this.particles[i];e.y+=e.rate,e.x+=t,(e.x>s+5||e.x<-5||e.y>a)&&(this.particles[i]=0<i%3?this.flake("top"):0<t?this.flake("left"):this.flake("right"))}},t.prototype.flake=function(t){var i={x:Math.random()*s,y:Math.random()*a,r:4*Math.random()+1,d:Math.floor(Math.random()*this.mp)};return i.rate=Math.floor(Math.cos(i.d))+1+i.r,t&&("left"===t&&(i.x=-5),"right"===t&&(i.x=s+5),"top"===t&&(i.y=0-i.y)),i},t.prototype.draw=function(t){this.ctx.clearRect(0,0,s,a),this.ctx.beginPath();for(var i=0;i<this.mp;i++){var e=this.particles[i];0<e.x&&0<e.y&&(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.r,0,r,!0))}this.ctx.fill(),this.update(),this.running&&requestAnimFrame(n)},t.prototype.resize=function(){s=this.canvas.width=this.canvas.parentElement.clientWidth,a=this.canvas.height=this.canvas.parentElement.clientHeight,this.ctx.fillStyle="white",this.ctx.strokeStyle="white"},t.prototype.stop=function(){this.running=!1},t.prototype.start=function(){this.running=!0,requestAnimFrame(n)},t}();