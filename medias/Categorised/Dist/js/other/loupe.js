!function(t){function o(i,t,e){var o=this.toggle.bind(this),s=this.set.bind(this),n=this.update.bind(this),h=this.zoom.bind(this),r=this.reset.bind(this);this.x=0,this.y=0,this.height=300,this.width=300,this.intrinsic={},this.rect,this.zoomlevels=[200,100],this.radius=this.zoomlevels[0],this.container=i,this.loupe=t,this.map=e,this.zoomed=!1,window.addEventListener("resize",r),window.addEventListener("scroll",r),this.init(),this.loupe.addEventListener("click",function(t){h(),n()}),this.container.addEventListener("mouseleave",function(t){i==t.target&&o(!1)}),this.container.addEventListener("mouseenter",function(t){i==t.target&&o(!0)}),this.container.addEventListener("mousemove",function(t){s(t),n()},!1)}t&&(o.prototype.init=function(){this.reset(),this.toggle(!1)},o.prototype.reset=function(){this.rect=this.container.getBoundingClientRect();var t=this.map.getAttribute("viewBox");t&&(t=t.split(" "),this.intrinsic.width=t[2],this.intrinsic.height=t[3])},o.prototype.toggle=function(t){this.loupe.style.display=t?"block":"none"},o.prototype.set=function(t){var i=this.rect.top+document.body.scrollTop,e=this.rect.left+document.body.scrollLeft;this.x=Math.round(t.clientX-e),this.y=Math.round(t.clientY-i)},o.prototype.update=function(){var t=Math.round(this.x/this.rect.width*this.intrinsic.width)-this.radius/2,i=Math.round(this.y/this.rect.height*this.intrinsic.height)-this.radius/2,t=t.toString()+" "+i.toString()+" "+this.radius.toString()+" "+this.radius.toString();this.loupe.setAttribute("viewBox",t),this.loupe.style.top=this.y-this.height/2+"px",this.loupe.style.left=this.x-this.width/2+"px"},o.prototype.zoom=function(){this.radius=this.zoomed?this.zoomlevels[0]:this.zoomlevels[1],this.loupe.style.cursor=this.zoomed?"zoom-in":"zoom-out",this.zoomed=!this.zoomed},Array.prototype.forEach.call(t,function(t){var i,e;t&&t.querySelector&&(i=t.querySelector(".loupe"),e=t.querySelector("svg:not(.loupe)"),i&&e&&new o(t,i,e))}))}(document.querySelectorAll(".c-zoom"));