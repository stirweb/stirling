var stir=stir||{};stir.akari=function(){var e=new URLSearchParams(document.location.search);const t=document.getElementById("moduleBrowser");console.info(e);var r={module:e=>stir.load("https://www.stir.ac.uk/data/pd-akari/?module="+e,o)};const s=e=>{var t=[];return t.push("object"==typeof e?null===e?"<span class=placeholder>no data</span>":a(e):e.toString().replaceAll("<","&lt;").replaceAll("http://","<span class=warn>http</span>://")||"<span class=placeholder>no data</span>"),t.join("")},a=e=>{var t=[];t.push("<table>");for(const r in e)t.push("<tr>"),t.push(`<th>${r}${Array.isArray(e[r])?"<br>["+e[r].length+" item(s)]":""}</th>`),t.push(`<td>${s(e[r])}</td>`),t.push("</tr>");return t.push("</table>"),t.join("")},o=e=>{try{return n(JSON.parse(e))}catch(e){return n("<p>Data for this module code is not found in Akari</p>")}},n=e=>{console.info("render",e),t.innerHTML=(e.moduletitle?`<h2 class=header-stripped>${e.moduletitle}</h2>`:"")+(e.modulecode?`<p>${e.modulecode}</p>`:"")+("object"==typeof e?a(e):"")+("string"==typeof e?e:"")};if(e){var l=e.get("code"),d=e.get("session"),e=e.get("semester");if(l&&d&&e)return t.textContent="Now loadingâ€¦",r.module([l,d,e].join("/"));t.innerHTML="<p class=error><strong>Error</strong>. Please check <kbd>code</kbd>, <kbd>session</kbd> and <kbd>semester</kbd> parameters, then try again."}return{get:r}}();