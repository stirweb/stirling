!function(r){if(!stir.favourites)return console.error("[Course Favourites] stir.favourites library not loaded!");const a=stir.curry((t,e)=>(stir.setHTML(t,e),!0)),i=t=>{const e=t.closest("[data-nodeid=favbtn]")||null;e&&(t=stir.favourites.getFavsListAll().find(t=>t.id===e.dataset.id),a(e,t?stir.favourites.renderRemoveBtn(t.id,t.date,""):stir.favourites.renderAddBtn(e.dataset.id,"")))};i(r),r.addEventListener("click",t=>{const e="BUTTON"===t.target.nodeName?t.target:t.target.closest("button");if(e&&e.dataset&&e.dataset.action){const a=r.dataset.id,s=r.dataset.type||"page";t={addtofavs:()=>{var t;a&&(t=a,stir.favourites.isFavourite(t)||stir.favourites.addToFavs(a,s)),i(e)},removefav:()=>{a&&(stir.favourites.removeFromFavs(a),i(e.parentElement))}}[e.dataset.action];t&&t()}})}(stir.node("[data-nodeid=favbtn]"));