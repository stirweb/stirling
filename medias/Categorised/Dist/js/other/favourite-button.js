!function(s){if(!stir.favourites)return console.error("[Course Favourites] stir.favourites library not loaded");const r=stir.curry((t,e)=>(stir.setHTML(t,e),!0)),i=e=>{var t,a=e.closest("[data-nodeid=coursefavsbtn]")||e;a&&(t=stir.favourites.getFavsListAll().find(t=>t.id===e.dataset.id),r(a,t?stir.favourites.renderRemoveBtn(t.id,t.date,""):stir.favourites.renderAddBtn(e.dataset.id,"")))};i(s),s.addEventListener("click",t=>{const e="BUTTON"===t.target.nodeName?t.target:t.target.closest("button");if(e&&e.dataset&&e.dataset.action){const a=s.dataset.id;t={addtofavs:()=>{var t;a&&(t=e.dataset.id,stir.favourites.isFavourite(t)||stir.favourites.addToFavs(e.dataset.id,"page")),i(e)},removefav:()=>{a&&(stir.favourites.removeFromFavs(a),i(e.parentElement))}}[e.dataset.action];t&&t()}})}(stir.node("[data-nodeid=coursefavsbtn]"));