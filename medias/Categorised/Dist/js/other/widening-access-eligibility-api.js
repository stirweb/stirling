var stir=stir||{};!function(){var t=document.getElementById("postcodeform"),o=document.getElementById("postcodereply"),r=document.querySelector('[name="success"]'),n=document.querySelector('[name="failure"]');t&&o&&t.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(t);o.innerHTML="&nbsp;",e.get("postcode")&&(e=t.getAttribute("action")+(-1<t.getAttribute("action").indexOf("?")?"&":"?")+"format=json&postcode="+encodeURIComponent(e.get("postcode")),stir.getJSON(e,function(e){var t;e&&(t=/__1__/gi,!0===e.result?e.postcode?o.innerHTML=(r?r.value:e.message).replace(t,e.postcode):o.innerHTML=r?r.value:e.message:!1===e.result?e.postcode?o.innerHTML=(n?n.value:e.message).replace(t,e.postcode):o.innerHTML=n?n.value:e.message:e.message&&(o.innerHTML=e.postcode?e.message.replace(t,e.postcode):e.message)),e&&e.error&&console.error(e.error)}))})}();