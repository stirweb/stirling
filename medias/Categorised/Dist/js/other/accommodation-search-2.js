!function(e){var i,t,r,s,c,l,o,u,d,n,a,f,m,p,v,h,g;e&&(i=e,e=stir.node("#filters-menu"),t=stir.node("#filters_panel__type"),r=stir.node("#filters_panel__room"),s=stir.nodes(".c-search-filters-panel__filter input"),c=function(e,t,r){var n=stir.filter(o),a=stir.filter(l(t)),t=d(t),e=h(e);stir.compose(e,t,a,n,stir.clone)(r)},l=stir.curry(function(e,t){if("Yes"===t.hidefromlist)return!1;var n=stir.all(function(e){return!0===e}),r=stir.curry(function(t,r){var e=stir.map(function(e){return!!t[r.name].trim().includes(e)},r.value.split(","));return n(e)}),r=stir.map(r(t));return stir.compose(n,r)(e)}),o=stir.curry(function(e){if(e.title)return e.room=Object.keys(e.prices).join(", "),e.accessible&&(e.room=e.room.concat(", ",e.accessible)),e}),u=function(e){var t={};return stir.each(function(e){!0===e.checked&&(t[e.parentNode.dataset.filterName]?t[e.parentNode.dataset.filterName]=t[e.parentNode.dataset.filterName]+","+e.labels[0].dataset.filterValue:t[e.parentNode.dataset.filterName]=e.labels[0].dataset.filterValue)},e),t},d=stir.curry(function(e,t){return'\n        <div class="cell c-search-ordered-filters u-margin-bottom" id="search-ordered-filters">\n          '.concat(a(e),'\n        </div>\n        <div class="cell small-12">\n            <p>').concat(t.length," results found</p>\n        </div>\n        ").concat(stir.map(function(e){return n(e)},t).join(""))}),n=function(e){return'\n        <div class="cell small-12 medium-6 large-4 u-mb-2">\n          <div class="u-bg-grey flex-container flex-dir-column u-h-full">\n              <img src="'.concat(e.image,'" loading="lazy" width="578" height="358" alt="').concat(e.title,'" />\n              <div class="u-p-3">  \n                  <p class="u-heritage-green text-lg u-margin-bottom u-header-line u-relative">\n                      <strong><a href="').concat(e.url,'" class="u-border-none">').concat(e.title,'</a></strong>\n                  </p>\n                  <ul class="no-bullet flex-container flex-dir-column u-gap-8">\n                      <li class="flex-container align-middle u-gap-16">\n                          <span class="uos-home h3 u-icon"></span>').concat(e.location,' </li>\n                      <li class="flex-container align-middle u-gap-16">\n                          <span class="uos-money h3 u-icon"></span>\n                          From ').concat(m((e=e.prices,t=stir.reduce(function(e,t){return t<e?t:e},1/0),r=stir.filter(function(e){return 0<e}),n=stir.map(function(e){return parseFloat(e)}),stir.compose(t,r,n)(Object.values(e))))," per week</li>\n                  </ul>\n              </div>\n            </div>\n        </div>");var t,r,n},a=function(e){return stir.map(function(e){var t=e.value.split(","),r=e.name;return stir.map(function(e){return f(e,r)},t).join(" ")},e).join("")},f=function(e,t){return e&&t?'<button class="is-active" data-filter-name="'.concat(t,'" data-filter-value="').concat(e,'">').concat(e," ×</button>"):""},m=function(e){return"£".concat(String(e.toFixed(2)).replace(".00",""))},p=function(e,t){for(var r in stir.each(function(e){QueryParams.remove(e.parentNode.dataset.filterName)},t),e)QueryParams.set(r,e[r]);return QueryParams.getAllArray()},v=function(e){stir.each(function(e){var t=e.value.split(","),r=e.name;stir.each(function(e){e=stir.node('[data-filter-name="'+r+'"][data-filter-value="'+e+'"]');e&&(e.childNodes[0].checked=!0)},t)},e)},h=stir.curry(function(e,t){return e.innerHTML=t,e}),i.addEventListener("click",function(e){var t,r,n,a;e.target.matches(".is-active")&&(t=e.target,r=s,n=t.dataset.filterName,a=t.dataset.filterValue,(n=stir.node('[data-filter-name="'+n+'"][data-filter-value="'+a+'"]'))&&(n.childNodes[0].checked=!1),t&&t.remove(),a=u(r),n=p(a,r),v(n),c(i,n,g),e.preventDefault())},!1),e&&(e.onclick=function(e){var t,r,n,a;return"A"===e.target.nodeName&&(t=e.target,r=stir.nodes(".c-search-filters-panel"),n=stir.node("#"+t.dataset.menuId),a=stir.nodes(".c-search-filters-menu li a"),stir.each(function(e){e.classList.add("hide")},r),n.classList.remove("hide"),stir.each(function(e){e.classList.remove("is-active")},a),t.classList.add("is-active")),e.preventDefault(),!1}),s&&s.forEach(function(e){var r;r=s,e.onclick=function(e){var t=u(r),t=p(t,r);c(i,t,g)}}),g=stir.accom.accoms,e=QueryParams.getAllArray(),g.length&&(t.classList.add("hide"),r.classList.add("hide"),v(e),c(i,e,g)))}(stir.node("#accommodation-search__results"));