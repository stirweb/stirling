!function(e){var i,t,r,s,c,l,o,u,d,a,n,f,m,v,h,p;e&&(i=e,e=stir.node("#filters-menu"),t=stir.node("#filters_panel__type"),r=stir.node("#filters_panel__room"),s=stir.nodes(".c-search-filters-panel__filter input"),c=function(e,t,r){var a=stir.filter(o),n=stir.filter(l(t)),t=d(t),e=h(e);stir.compose(e,t,n,a,stir.clone)(r)},l=stir.curry(function(e,t){var a,r;return"Yes"!==t.hidefromlist&&(a=stir.all(function(e){return!0===e}),r=stir.curry(function(t,r){var e=stir.map(function(e){return!!t[r.name].trim().includes(e)},r.value.split(","));return a(e)}),r=stir.map(r(t)),stir.compose(a,r)(e))}),o=stir.curry(function(e){if(e.title)return e.room=Object.keys(e.prices).join(", "),e.accessible&&(e.room=e.room.concat(", ",e.accessible)),e}),u=function(e){var t={};return stir.each(function(e){!0===e.checked&&(t[e.parentNode.dataset.filterName]?t[e.parentNode.dataset.filterName]=t[e.parentNode.dataset.filterName]+","+e.labels[0].dataset.filterValue:t[e.parentNode.dataset.filterName]=e.labels[0].dataset.filterValue)},e),t},d=stir.curry(function(e,t){return'\n        <div class="cell c-search-ordered-filters u-margin-bottom" id="search-ordered-filters">\n          '.concat(n(e),'\n        </div>\n        <div class="cell small-12">\n            <p>').concat(t.length," results found</p>\n        </div>\n        ").concat(stir.map(function(e){return a(e)},t).join(""))}),a=function(e){return'\n        <div class="cell small-12 medium-6 large-4 u-mb-2">\n          <div class="u-bg-grey flex-container flex-dir-column u-h-full">\n              <img src="'.concat(e.image,'" loading="lazy" width="578" height="358" alt="').concat(e.title,'" />\n              <div class="u-p-3">  \n                  <p class="u-heritage-green text-lg u-margin-bottom u-header-line u-relative">\n                      <strong><a href="').concat(e.url,'" class="u-border-none">').concat(e.title,'</a></strong>\n                  </p>\n                  <ul class="no-bullet flex-container flex-dir-column u-gap-8">\n                      <li class="flex-container align-middle u-gap-16">\n                          <span class="uos-home h3 u-icon"></span>').concat(e.location," </li>\n\n                  </ul>\n              </div>\n            </div>\n        </div>")},n=function(e){return stir.map(function(e){var t=e.value.split(","),r=e.name;return stir.map(function(e){return f(e,r)},t).join(" ")},e).join("")},f=function(e,t){return e&&t?'<button class="is-active" data-filter-name="'.concat(t,'" data-filter-value="').concat(e,'">').concat(e," Ã—</button>"):""},m=function(e,t){for(var r in stir.each(function(e){QueryParams.remove(e.parentNode.dataset.filterName)},t),e)QueryParams.set(r,e[r]);return QueryParams.getAllArray()},v=function(e){stir.each(function(e){var t=e.value.split(","),r=e.name;stir.each(function(e){e=stir.node('[data-filter-name="'+r+'"][data-filter-value="'+e+'"]');e&&(e.childNodes[0].checked=!0)},t)},e)},h=stir.curry(function(e,t){return e.innerHTML=t,e}),i.addEventListener("click",function(e){var t,r,a,n;e.target.matches(".is-active")&&(t=e.target,r=s,a=t.dataset.filterName,n=t.dataset.filterValue,(a=stir.node('[data-filter-name="'+a+'"][data-filter-value="'+n+'"]'))&&(a.childNodes[0].checked=!1),t&&t.remove(),n=u(r),a=m(n,r),v(a),c(i,a,p),e.preventDefault())},!1),e&&(e.onclick=function(e){var t,r,a,n;return"A"===e.target.nodeName&&(t=e.target,r=stir.nodes(".c-search-filters-panel"),a=stir.node("#"+t.dataset.menuId),n=stir.nodes(".c-search-filters-menu li a"),stir.each(function(e){e.classList.add("hide")},r),a.classList.remove("hide"),stir.each(function(e){e.classList.remove("is-active")},n),t.classList.add("is-active")),e.preventDefault(),!1}),s&&s.forEach(function(e){var r;r=s,e.onclick=function(e){var t=u(r),t=m(t,r);c(i,t,p)}}),p=stir.accom.accoms,e=QueryParams.getAllArray(),p.length)&&(t.classList.add("hide"),r.classList.add("hide"),v(e),c(i,e,p))}(stir.node("#accommodation-search__results"));