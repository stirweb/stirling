!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return r=[function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,n=null,i="initial",o=i,r=Date.now();try{window.sessionStorage.getItem("what-input")&&(i=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(o=window.sessionStorage.getItem("what-intent"))}catch(e){}var a=["button","input","select","textarea"],s=[],c=[16,17,18,91,93],l=[],u={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,h={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var e=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,e)}catch(e){}function m(){var e=!!p&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",E),window.addEventListener("pointermove",A)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",E),window.addEventListener("MSPointerMove",A)):(window.addEventListener("mousedown",E),window.addEventListener("mousemove",A),"ontouchstart"in window&&(window.addEventListener("touchstart",E,e),window.addEventListener("touchend",E))),window.addEventListener(L(),A,e),window.addEventListener("keydown",E),window.addEventListener("keyup",E),window.addEventListener("focusin",S),window.addEventListener("focusout",k)}function g(e){t.setAttribute("data-what"+e,"input"===e?i:o),x(e)}function v(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType}function y(e){var t=Date.now(),e="mouse"===e&&"touch"===i&&t-r<200;return r=t,e}function b(e){h.x!==e.screenX||h.y!==e.screenY?(d=!1,h.x=e.screenX,h.y=e.screenY):d=!0}function w(e,t){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return e.closest(t);do{if(e.matches(t))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType)}var E=function(e){var t=e.which,n=u[e.type],e=("pointer"===n&&(n=v(e)),!l.length&&-1===c.indexOf(t)),r=l.length&&-1!==l.indexOf(t),t="keyboard"===n&&t&&(e||r)||"mouse"===n||"touch"===n;if((t=y(n)?!1:t)&&i!==n){i=n;try{window.sessionStorage.setItem("what-input",i)}catch(e){}g("input")}if(t&&o!==n){e=document.activeElement;if(e&&e.nodeName&&-1===a.indexOf(e.nodeName.toLowerCase())||"button"===e.nodeName.toLowerCase()&&!w(e,"form")){o=n;try{window.sessionStorage.setItem("what-intent",o)}catch(e){}g("intent")}}},A=function(e){var t=u[e.type];if("pointer"===t&&(t=v(e)),b(e),!d&&!y(t)&&o!==t){o=t;try{window.sessionStorage.setItem("what-intent",o)}catch(e){}g("intent")}},S=function(e){e.target.nodeName?(n=e.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",n),e.target.classList&&e.target.classList.length&&t.setAttribute("data-whatclasses",e.target.classList.toString().replace(" ",","))):k()},k=function(){n=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},L=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},x=function(e){for(var t=0,n=s.length;t<n;t++)s[t].type===e&&s[t].fn.call(void 0,"input"===e?i:o)};return"addEventListener"in window&&Array.prototype.indexOf&&(u[L()]="mouse",m(),g("input"),g("intent")),{ask:function(e){return"intent"===e?o:i},element:function(){return n},ignoreKeys:function(e){c=e},specificKeys:function(e){l=e},registerOnChange:function(e,t){s.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){e=function(e){for(var t=0,n=s.length;t<n;t++)if(s[t].fn===e)return t}(e);!e&&0!==e||s.splice(e,1)}}}()}],i={},n.m=r,n.c=i,n.p="",n(0);function n(e){var t;return(i[e]||(t=i[e]={exports:{},id:e,loaded:!1},r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t)).exports}var r,i}),function(e){var t,n,r=!1;"function"==typeof define&&define.amd&&(define(e),r=!0),"object"==typeof exports&&(module.exports=e(),r=!0),r||(t=window.Cookies,(n=window.Cookies=e()).noConflict=function(){return window.Cookies=t,n})}(function(){function m(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}return function e(f){function p(e,t,n){var r,i;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=m({path:"/"},p.defaults,n)).expires&&((i=new Date).setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i),n.expires=n.expires?n.expires.toUTCString():"";try{r=JSON.stringify(t),/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=f.write?f.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o,a="";for(o in n)n[o]&&(a+="; "+o,!0!==n[o])&&(a+="="+n[o]);return document.cookie=e+"="+t+a}e||(r={});for(var s=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<s.length;l++){var u=s[l].split("="),d=u.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var h=u[0].replace(c,decodeURIComponent),d=f.read?f.read(d,h):f(d,h)||d.replace(c,decodeURIComponent);if(this.json)try{d=JSON.parse(d)}catch(e){}if(e===h){r=d;break}e||(r[h]=d)}catch(e){}}return r}}return(p.set=p).get=function(e){return p.call(p,e)},p.getJSON=function(){return p.apply({json:!0},[].slice.call(arguments))},p.defaults={},p.remove=function(e,t){p(e,"",m(t,{expires:-1}))},p.withConverter=e,p}(function(){})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function o(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function l(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function a(e){var t,e=0<arguments.length&&void 0!==e?e:{},n=e.id,e=e.url,e=n||e;if(!e)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=e,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(e);if(l(e))return e.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(e,"” is not a vimeo.com url."))}var n=void 0!==Array.prototype.indexOf,r="undefined"!=typeof window&&void 0!==window.postMessage;if(!(t||n&&r))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var i,s,n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(s(this,"_id","_WeakMap_"+d()+"."+d()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function u(e,t){if(!h(e)||!i.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function d(){return Math.random().toString().substring(2)}function h(e){return Object(e)===e}(r="undefined"!=typeof self?self:"undefined"!=typeof window?window:n).WeakMap||(i=Object.prototype.hasOwnProperty,r.WeakMap=((s=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n})(c.prototype,"delete",function(e){var t;return u(this,"delete"),!!h(e)&&!(!(t=e[this._id])||t[0]!==e||(delete e[this._id],0))}),s(c.prototype,"get",function(e){var t;return u(this,"get"),h(e)&&(t=e[this._id])&&t[0]===e?t[1]:void 0}),s(c.prototype,"has",function(e){var t;return u(this,"has"),!!h(e)&&!(!(t=e[this._id])||t[0]!==e)}),s(c.prototype,"set",function(e,t){var n;if(u(this,"set"),h(e))return(n=e[this._id])&&n[0]===e?n[1]=t:s(e,this._id,[e,t]),this;throw new TypeError("Invalid value used as weak map key")}),s(c,"_polyfill",!0),c));_=r={exports:{}},(n=n)[f="Promise"]=n[f]||function(){var e,n,r,i,o,s=Object.prototype.toString,a="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(s){e=function(e,t,n){return e[t]=n,e}}function c(e,t){g.add(e,t),n=n||a(g.drain)}function l(e){var t,n=typeof e;return"function"==typeof(t=null==e||"object"!=n&&"function"!=n?t:e.then)&&t}function u(){for(var e,t,n=0;n<this.chain.length;n++){r=void 0;i=void 0;o=void 0;e=void 0;t=void 0;var r=this;var i=1===this.state?this.chain[n].success:this.chain[n].failure;var o=this.chain[n];try{!1===i?o.reject(r.msg):(e=!0===i?r.msg:i.call(void 0,r.msg))===o.promise?o.reject(TypeError("Promise-chain cycle")):(t=l(e))?t.call(e,o.resolve,o.reject):o.resolve(e)}catch(r){o.reject(r)}}this.chain.length=0}function d(e){var t=this;t.triggered||(t.triggered=!0,(t=t.def?t.def:t).msg=e,t.state=2,0<t.chain.length&&c(u,t))}function h(e,n,r,i){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},i)}(t)}function f(e){this.def=e,this.triggered=!1}function t(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new t(this);this.then=function(e,t){var n={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&c(u,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){!function e(n){var r,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(r=l(n))?c(function(){var t=new f(i);try{r.call(n,function(){e.apply(t,arguments)},function(){d.apply(t,arguments)})}catch(e){d.call(t,e)}}):(i.msg=n,i.state=1,0<i.chain.length&&c(u,i))}catch(e){d.call(new f(i),e)}}}.call(r,e)},function(e){d.call(r,e)})}catch(e){d.call(r,e)}}function m(e,t){this.fn=e,this.self=t,this.next=void 0}var g={add:function(e,t){o=new m(e,t),i?i.next=o:r=o,i=o},drain:function(){var e=r;for(r=i=n=void 0;e;)e.fn.call(e.self),e=e.next}},v=e({},"constructor",p,!1);return e(p.prototype=v,"__NPO__",0,!1),e(p,"resolve",function(n){return n&&"object"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)})}),e(p,"reject",function(n){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)})}),e(p,"all",function(t){var a=this;return"[object Array]"!=s.call(t)?a.reject(TypeError("Not an array")):0===t.length?a.resolve([]):new a(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");var r=t.length,i=Array(r),o=0;h(a,t,function(e,t){i[e]=t,++o===r&&n(i)},e)})}),e(p,"race",function(t){var r=this;return"[object Array]"!=s.call(t)?r.reject(TypeError("Not an array")):new r(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");h(r,t,function(e,t){n(t)},e)})}),p}(),_.exports&&(_.exports=n[f]);var f,p=r.exports,m=new WeakMap;function g(e,t,n){var r=m.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),m.set(e.element,r)}function v(e,t){return(m.get(e.element)||{})[t]||[]}function y(e,t,n){var r=m.get(e.element)||{};return!r[t]||(n?(-1!==(n=r[t].indexOf(n))&&r[t].splice(n,1),m.set(e.element,r),r[t]&&0===r[t].length):(r[t]=[],m.set(e.element,r),1))}var b=["autopause","autoplay","background","byline","color","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","title","transparent","url","width"];function w(r,e){return b.reduce(function(e,t){var n=r.getAttribute("data-vimeo-".concat(t));return!n&&""!==n||(e[t]=""===n?1:n),e},1<arguments.length&&void 0!==e?e:{})}function E(e,t){var n,e=e.html;if(t)return null===t.getAttribute("data-vimeo-initialized")&&((n=document.createElement("div")).innerHTML=e,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true")),t.querySelector("iframe");throw new TypeError("An element must be provided")}function A(o,e,t){var a=1<arguments.length&&void 0!==e?e:{},s=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!l(o))throw new TypeError("“".concat(o,"” is not a vimeo.com url."));var e,r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(o),"&domain=").concat(window.location.hostname);for(e in a)a.hasOwnProperty(e)&&(r+="&".concat(e,"=").concat(encodeURIComponent(a[e])));var i=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);i.open("GET",r,!0),i.onload=function(){if(404!==i.status)if(403!==i.status)try{var e=JSON.parse(i.responseText);403===e.domain_status_code?(E(e,s),n(new Error("“".concat(o,"” is not embeddable.")))):t(e)}catch(e){n(e)}else n(new Error("“".concat(o,"” is not embeddable.")));else n(new Error("“".concat(o,"” was not found.")))},i.onerror=function(){var e=i.status?" (".concat(i.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},i.send()})}function S(e){return e="string"==typeof e?JSON.parse(e):e}function k(e,t,n){e.element.contentWindow&&e.element.contentWindow.postMessage&&(t={method:t},void 0!==n&&(t.value=n),8<=(n=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&n<10&&(t=JSON.stringify(t)),e.element.contentWindow.postMessage(t,e.origin))}var L=new WeakMap,x=new WeakMap,_=(e(C.prototype,[{key:"callMethod",value:function(n){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new p(function(e,t){return r.ready().then(function(){g(r,n,{resolve:e,reject:t}),k(r,n,i)}).catch(function(e){t(e)})})}},{key:"get",value:function(n){var r=this;return new p(function(e,t){return n=o(n,"get"),r.ready().then(function(){g(r,n,{resolve:e,reject:t}),k(r,n)})})}},{key:"set",value:function(r,e){var i=this;return p.resolve(e).then(function(n){if(r=o(r,"set"),null==n)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new p(function(e,t){g(i,r,{resolve:e,reject:t}),k(i,r,n)})})})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===v(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),g(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");y(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=x.get(this)||new p(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return p.resolve(e)}},{key:"addCuePoint",value:function(e){return this.callMethod("addCuePoint",{time:e,data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(e)return this.callMethod("enableTextTrack",{language:e,kind:t});throw new TypeError("You must pass a language.")}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new p(function(e){x.delete(t),L.delete(t.element),t._originalElement&&(L.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}]),C);function C(i){var c=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this;if(!(e instanceof C))throw new TypeError("Cannot call a class as a function");if(window.jQuery&&i instanceof jQuery&&(1<i.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),i=i[0]),!((i="undefined"!=typeof document&&"string"==typeof i?document.getElementById(i):i)instanceof window.HTMLElement))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===(i="IFRAME"!==i.nodeName&&(e=i.querySelector("iframe"))?e:i).nodeName&&!l(i.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(L.has(i))return L.get(i);this.element=i,this.origin="*";e=new p(function(s,t){function e(e){var n,r,t,i,o,a;l(e.origin)&&c.element.contentWindow===e.source&&("*"===c.origin&&(c.origin=e.origin),a="event"in(e=S(e.data))&&"ready"===e.event,i="method"in e&&"ping"===e.method,a||i?(c.element.setAttribute("data-ready","true"),s()):(n=c,a=[],(r=S(r=e)).event?("error"===r.event&&v(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),y(n,r.data.method,e)}),a=v(n,"event:".concat(r.event)),t=r.data):r.method&&(i=n,e=r.method,e=!((o=v(i,e)).length<1)&&(y(i,e,i=o.shift()),i))&&(a.push(e),t=r.value),a.forEach(function(e){try{"function"==typeof e?e.call(n,t):e.resolve(t)}catch(e){}})))}var n;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e),"IFRAME"!==c.element.nodeName&&A(a(n=w(i,r)),n,i).then(function(e){var t,n,r=E(e,i);return c.element=r,t=c._originalElement=i,r=r,n=m.get(t),m.set(r,n),m.delete(t),L.set(c.element,c),e}).catch(function(e){return t(e)})});return x.set(this,e),L.set(this.element,this),"IFRAME"===this.element.nodeName&&k(this,"ping"),this}return t||(function(e){function n(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))}e=0<arguments.length&&void 0!==e?e:document,e=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]"));e.forEach(function(t){try{var e;null===t.getAttribute("data-vimeo-defer")&&A(a(e=w(t)),e,t).then(function(e){return E(e,t)}).catch(n)}catch(e){n(e)}})}(),function(e){var r=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,e=function(e){if(l(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=r.querySelectorAll("iframe"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}},window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e))}()),_}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0!=r)for(var i,o,t=0|t,a=Math.max(0<=t?t:r-Math.abs(t),0);a<r;){if((i=n[a])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;a++}return!1}}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})}),function(e,o){e.AvatarImage=function(e,t,n){var r=o.createElement("canvas"),i=r.getContext("2d"),n=n||60;return r.width=n,r.height=n,i.font=Math.round(r.width/2)+"px Arial",i.textAlign="center",i.fillStyle=t,i.fillRect(0,0,r.width,r.height),i.fillStyle="#FFF",i.fillText(e,n/2,n/1.5),dataURI=r.toDataURL(),r=null,dataURI}}(window,document),function(o){o.addEventListener("DOMContentLoaded",function(e){for(var t=o.querySelectorAll("img[data-letters]"),n=0,r=t.length;n<r;n++){var i=t[n];i.src=AvatarImage(i.getAttribute("data-letters"),i.getAttribute("data-color"),i.getAttribute("width")),i.removeAttribute("data-letters")}})}((window,document));var AvatarImageSVG={generateIcon:function(e,t){var n=void 0===(n=t)?0:1/26*(n.toLowerCase().charCodeAt(0)-96)*360-.01,r=void 0===(r=t)||"Unknown name"==r?"":(r=r.split(" "))[0].charAt(0)+r[r.length-1].charAt(0);return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300 300" width="158" height="158"><defs><style type="text/css">.st1{fill:#FFFFFF;}.st3{font-size:102.68px;}</style></defs><linearGradient id="SVGID_'+e+'_" gradientUnits="userSpaceOnUse" x1="0" y1="300" x2="300" y2="0">\t<stop offset="0" style="stop-color:#FFFFFF; stop-color:hsl('+n+', 33%, 40%)"/>\t<stop offset="1" style="stop-color:#CCCCCC; stop-color:hsl('+n+', 33%, 60%)"/></linearGradient><rect x="0" y="0" style="fill:url(#SVGID_'+e+'_);" width="300" height="300"/><title>'+t+'</title><text x="50%" y="50%" class="st1 st3" alignment-baseline="central" dominant-baseline="central" text-anchor="middle">'+r+"</text></svg>"}},QueryParams=function(){var s=function(e){history.pushState(null,null,e)};function c(e,t){var n=e.split("?");if(2<=n.length){for(var r=t+"=",i=n[1].split(/[&;]/g),o=i.length;0<o--;)-1!==i[o].lastIndexOf(r,0)&&i.splice(o,1);return e=n[0]+(0<i.length?"?"+i.join("&"):"")}return e}return{get:function(e,t,n){return void 0===n&&(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&"),(e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n))?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":t},getAll:function(e){void 0===e&&(e=window.location.search);var r={};return e.substring(1).replace(/([^=&]+)=([^&]*)/g,function(e,t,n){r[decodeURIComponent(t)]=decodeURIComponent(n)}),r},getAllArray:function(e){void 0===e&&(e=window.location.search);var r=[];return e.substring(1).replace(/([^=&]+)=([^&]*)/g,function(e,t,n){t={name:decodeURIComponent(t),value:decodeURIComponent(n)};r.push(t)}),r},set:function(e,t,n,r){(e=function(e,t,n){var r,i,o={};for(t in"string"==typeof t?o[t]=n:o=t,o)o.hasOwnProperty(t)&&(n=o[t],(r=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi")).test(e)?null!=n?e=e.replace(r,"$1"+t+"="+encodeURIComponent(n)+"$2$3"):(e=(i=e.split("#"))[0].replace(r,"$1$3").replace(/(&|\?)$/,""),void 0!==i[1]&&null!==i[1]&&(e+="#"+i[1])):null!=n&&(r=-1!==e.indexOf("?")?"&":"?",e=(i=e.split("#"))[0]+r+t+"="+encodeURIComponent(n),void 0!==i[1])&&null!==i[1]&&(e+="#"+i[1]));return e}(r=void 0===r?document.location.search:r,e,t))!==r&&s(e),n&&(window.location.href=document.location.href)},remove:function(e,t,n,r,i){var o,a=n=n||window.location.href;-1<n.indexOf(e)?a=c(n,e):-1<n.indexOf(encodeURIComponent(e))&&(a=c(n,encodeURIComponent(e))),a!==n&&(r?(e=a,history.replaceState(o,"",e)):s(a)),t&&(window.location.href=document.location.href)},setPushStateHandler:function(e){s=e}}}(),UoS_StickyWidget=function(){function e(n){if(n){this.element=n,this.offset=n.getAttribute("data-offset"),this.trigger=this.setTrigger(n.getAttribute("data-observe")),this.offsetRatio=0,this.wrapper=document.createElement("div"),this.controls={close:n.querySelectorAll("[data-close]")};var e,t,r=this;for(e in this.offset&&n.classList.add("offset"+this.offset),o(),this.callback=function(e){return e.intersectionRatio<0?this.element.setAttribute("data-sticky-polyfill",!0):!(e.boundingClientRect.y>e.rootBounds.y)&&0<=e.intersectionRatio&&e.intersectionRatio<=this.offsetRatio?this.element.classList.add("stuck"):void this.element.classList.remove("stuck")},this.observer=stir.createIntersectionObserver({element:this.trigger,threshold:[0,this.offsetRatio,.9],callback:this.callback.bind(this)}),this.hideyslidey=function(){"IntersectionObserver"in window&&(this.element.style.marginBottom=(-1*i()).toString()+"px")},this.controls.close)this.controls.close.hasOwnProperty(e)&&this.controls.close[e].addEventListener("click",function(e){e.preventDefault(),n.parentElement.removeChild(n)});this.element.classList.contains("u-hidey-slidey")&&(t=Number(window.getComputedStyle(this.element).getPropertyValue("z-index")),this.trigger.style.zIndex=++t,this.hideyslidey()),this.element.hasAttribute("data-bg")&&this.setBGWrapper(),n.setAttribute("data-initialised",!0),window.addEventListener("resize",stir.debounce(o,400))}function i(){var e,t=n.style.display||"";return n.style.display="block",e=Number(n.offsetHeight),n.style.display=t,e}function o(e){var t;n.getAttribute("data-offset")&&(0<(t=i())&&(r.offsetRatio=t/2/t),window.stir&&stir.MediaQuery&&"small"!==stir.MediaQuery.current?(n.hasAttribute("data-bg")?n.style.marginTop=0-t-1+"px":n.style.marginTop=0-t/2+"px",r.wrapper.style.paddingBottom=t/2+"px"):r.wrapper.style.paddingBottom=n.style.marginTop=null)}}return e.prototype.setTrigger=function(e){var t;return 0==(t=(t=e?document.querySelector(e):t)||this.element.previousElementSibling).offsetHeight&&(t=t.previousElementSibling),this.offset&&t.setAttribute("data-has-overlapper",this.offset),t},e.prototype.setBGWrapper=function(){this.element.previousElementSibling.insertAdjacentElement("beforebegin",this.wrapper),this.wrapper.append(this.element.previousElementSibling),this.wrapper.classList.add(this.element.getAttribute("data-bg").trim())},e}();(stir=stir||{}).capitaliseFirst=e=>e.charAt(0).toUpperCase()+e.slice(1),stir.load=function(e,t){var n;if(void 0!==e)return"function"!=typeof t&&(t=function(){}),(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){200<=n.status&&n.status<400?t.call(null,n.responseText):t.call(null,{error:{status:n.status,statusText:n.statusText}})},n.onerror=function(e){t.call(null,{error:e})},n.ontimeout=function(e){t.call(null,{error:e})},n.send(),n},stir.getJSONp=function(e,t,n){var r;void 0!==e&&(r=document.createElement("script"),"function"==typeof t&&(r.onload=t),"function"==typeof n&&(r.onerror=n),r.src=e,document.head.appendChild(r))},stir.loadAuthenticated=function(e,t){var n;if(void 0!==e)return"function"!=typeof t&&(t=function(){}),(n=new XMLHttpRequest).open("GET",e,!0),n.withCredentials=!0,n.onload=function(){200<=n.status&&n.status<400?t.call(null,n.responseText):t.call(null,{error:{status:n.status,statusText:n.statusText}})},n.onerror=function(e){t.call(null,{error:e})},n.ontimeout=function(e){t.call(null,{error:e})},n.send(),n},stir.getJSON=function(e,n){return stir.load(e,function(t){try{t=JSON.parse(t)}catch(e){t={error:e}}n.call(null,t)})},stir.getJSONAuthenticated=function(e,n){stir.loadAuthenticated(e,function(t){try{t=JSON.parse(t)}catch(e){t={error:e}}n.call(null,t)})},stir.Math={fileSize:(e,t)=>{var n=Math.floor(Math.log(e)/Math.log(1024));return+(e/Math.pow(1024,n)).toFixed(isNaN(t)?2:t)+["B","kB","MB","GB","TB"][n]},random:e=>Math.floor(Math.random()*e)},stir.Number={clamp:function(e,t,n){return e<=t?t:n<=e?n:e},formatMoney:function(e,t,n){var r,e=isNaN(e=Math.abs(e))?2:e,t=null==t?".":t,n=null==n?",":n,i=this<0?"-":"",o=String(parseInt(r=Math.abs(Number(this)||0).toFixed(e))),a=3<(a=o.length)?a%3:0;return i+(a?o.substr(0,a)+n:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(r-o).toFixed(e).slice(2):"")}},stir.String={rot:function(e,t){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+t)?e:e-26)})},slug:e=>String(e).toLowerCase().replace(/[^a-z]+/g,"-"),embolden:function(e,t){return e.replace(new RegExp(t,"gi"),"<b>"+t+"</b>")},truncate:function(e,t){return this.length<=e?this:(e=this.substr(0,e-1),(t?e.substr(0,e.lastIndexOf(" ")):e)+"&hellip;")},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,["&","quot;"].join(""))},stripHtml:function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},getFirstFromSplit:function(e){return-1<this.indexOf(e)?this.split(e)[0].trim():this},domify:e=>(new DOMParser).parseFromString(e,"text/html").body},stir.String.fixHtml=function(){const n=stir.String.domify;return function(e,t){e=function(t){if(t&&t.childNodes)return Array.prototype.forEach.call(t.childNodes,function(e){1===e.nodeType&&""===e.innerText&&t.removeChild(e)}),t}(function(e){if(e&&e.childNodes)return Array.prototype.forEach.call(e.childNodes,function(e){var t;3!==e.nodeType&&"A"!==e.nodeName||(t=document.createElement("p"),e.parentNode.insertBefore(t,e),t.appendChild(e))}),e}(n(e))),e=stir.DOM.frag(e);return t?e:e.textContent}}(),stir.DOM={frag:e=>{for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);return t}},stir.Array={oxfordComma:function(e,t,n){e=e.filter(e=>e);return 1<e.length?[e.slice(0,-1).join(", "),e.slice(-1)].join((t?",":"")+(n?" "+n+" ":" and ")):e.slice(-1).toString()},getRandomVal:function(){return this[Math.floor(Math.random()*this.length)]}},stir.Object={extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}},stir.Date=(()=>{const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"];return{newsDate:e=>`${e.getDate()} ${t[e.getMonth()]} `+e.getFullYear(),galleryDate:e=>`${r[e.getDay()]} ${e.getDate()} ${t[e.getMonth()].slice(0,3)} `+e.getFullYear(),funnelbackDate:e=>""+e.getDate()+t[e.getMonth()].slice(0,3)+e.getFullYear(),time24:e=>e.getHours()+":"+(e.getMinutes()+"0").slice(0,2),timeElementDatetime:e=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-`+("0"+e.getDate()).slice(-2),swimTimetable:e=>`${n[e.getDay()]}: ${e.getDate()} `+t[e.getMonth()]}})(),stir.formatStirDate=stir.Date.galleryDate,stir.BSTorGMT=function(e){var t=[{year:2021,start:20210328,end:20211031},{year:2022,start:20220327,end:20221030},{year:2023,start:20230326,end:20231029},{year:2024,start:20240331,end:20241027},{year:2025,start:20250330,end:20251026},{year:2026,start:20260329,end:20261025},{year:2027,start:20270328,end:20271031},{year:2028,start:20280326,end:20281029},{year:2029,start:20290325,end:20291028}];if("[object Date]"!==Object.prototype.toString.call(e))return console.error("Parameter one of stir.BSTorGMT() should be a JavaScript Date Object"),"";for(var n,r,i=String(e.getFullYear()),o=String(e.getMonth()+1),e=String(e.getDate()),o=(o.length<2&&(o="0"+o),e.length<2&&(e="0"+e),parseInt(i+o+e)),a=0;a<t.length;a++)if((item=t[a]).year===parseInt(i)){n=item.start,r=item.end;break}return n<=o&&o<=r?"BST":"GMT"},stir.createDOMFragment=function(e){if(e)return document.createRange().createContextualFragment(e)},stir.createDOMElement=function(e){var t;if(e)return(t=document.createElement("div")).innerHTML=e,t},stir.addScript=function(e){var t=document.createElement("script");t.src=e,document.body.insertAdjacentElement("beforeend",t)},stir.addStyle=function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.rel="stylesheet",document.head.insertAdjacentElement("beforeend",t)},stir.animate=function(e,t){e&&"undefined"!=e.classList&&"slideDown"===t&&(e.classList.add("animation__show"),e.classList.add("animation__slidedown"),e.classList.remove("animation__hide"))},stir.createIntersectionObserver=function(r){var i,o,e;if(r)return i=r.threshold||[.7],o=[],"object"!=typeof i&&(i=[i]),"function"!=typeof r.callback&&(r.callback=function(e){for(var t=0;t<o.length;t++)o[t].call(r.element,e)}),"IntersectionObserver"in window?(e=new IntersectionObserver(function(e){for(var t in e)e.hasOwnProperty(t)&&r.callback.call(e[t].target,e[t])},{root:r.root||null,threshold:i}),r.element&&e.observe(r.element),{observer:e,setClassToggle:function(e){return o.push(function(){r.element.classList.contains(e)?r.element.classList.remove(e):r.element.classList.add(e)}),this},setClassAdd:function(n){return o.push(function(e){for(var t=0;t<i.length;t++)e.intersectionRatio>=i[t]&&r.element.classList.add(n)}),this},setClassRemove:function(n){return o.push(function(e){for(var t=0;t<i.length;t++)e.intersectionRatio>=i[t]&&r.element.classList.remove(n)}),this}}):r.callback.call(r.element,{intersectionRatio:-1})},stir.lazyJS=(e,n)=>{e=e.filter(e=>stir.node(e));e.length&&e.forEach(e=>{let t=stir.createIntersectionObserver({element:stir.node(e),threshold:[.001],callback:function(e){e.isIntersecting&&(stir.addScript(n),t)&&t.observer.unobserve(this)}})})},stir.cardinal=function(){var t=["zero","one","two","three","four","five","six","seven","eight","nine","ten"];return function(e){return t[parseInt(e)]||""}}(),stir.elementIsHidden=function(e){e=window.getComputedStyle(e);return"none"===e.display||"hidden"===e.visibility},stir.getMaintenanceMsg=function(){var e=document.createElement("div");return e.appendChild(stir.createDOMFragment(`
      <div class="callout">
        <h3 class="header-stripped">Offline for maintenance</h3>
        <p>We are carrying out some essential maintenance work on our website today, which means that 
        some of our web pages are currently unavailable. We&rsquo;re sorry for any inconvenience and we 
        hope to restore full service as soon as possible.</p>
        <p>See how to <a href="https://www.stir.ac.uk/about/contact-us/">contact us</a></p>
      </div>`)),e.firstElementChild},stir.scrollToElement=function(e,t){t=t||0,stir.scrollTo(e.getBoundingClientRect().top-document.body.getBoundingClientRect().top-t,0)},stir.scroll=-1!=navigator.userAgent.indexOf("MSIE")||-1!=navigator.userAgent.indexOf("Trident/7.0")||-1!=navigator.userAgent.indexOf("Edge")?function(e,t){this.scroll?this.scroll(t,e):(this.scrollLeft=t,this.scrollTop=e)}:function(e,t){this.scroll({top:e,left:t,behavior:"smooth"})},stir.scrollTo=stir.scroll.bind(null),stir.research={hub:(()=>{const r={"Faculty of Arts and Humanities":["Arts","Communications, Media and Culture","English Studies","History and Politics","Literature and Languages","Law and Philosophy","Philosophy","French","History","Law","Politics","Religion","Spanish"],"Faculty of Health Sciences and Sport":["Health Sciences Stirling","Sport","Institute for Social Marketing","NMAHP"],"Faculty of Natural Sciences":["Computing Science","Institute of Aquaculture","Biological and Environmental Sciences","Psychology","Computing Science and Mathematics","Machrihanish"],"Faculty of Social Sciences":["Education","Sociology, Social Policy & Criminology","Social Work","Dementia and Ageing","Dementia Services Development Centre"],"Stirling Management School":["Accounting & Finance","Economics","Management, Work and Organisation","Marketing & Retail"]};return{getFacultyFromOrgUnitName:e=>{var t=e.replace(" - Division","");for(const n in r)if(t==n||0<=r[n].indexOf(t))return n;return"University of Stirling"}}})()},stir.Spinner=function(e){this.element=document.createElement("div"),this.element.classList.add("c-search-loading__spinner"),this.element.classList.add("show-for-medium"),this.element.classList.add("hide"),e&&1===e.nodeType&&e.appendChild(this.element),this.show=function(){this.element.classList.remove("hide")},this.hide=function(){this.element.classList.add("hide")}},stir.ToggleWidget=function(e,t,n){this.show=function(){e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex"),t&&e.classList.add(t),n&&e.classList.remove(n)},this.hide=function(){e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),n&&e.classList.add(n),t&&e.classList.remove(t)},this.hidden=function(){return!!e.hasAttribute("aria-hidden")}},stir.debounce=function(r,i,o){var a;return function(){var e=this,t=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(e,t)},i),n&&r.apply(e,t)}},stir.lazy=function(e){var t;if(e&&0<e.length){"IntersectionObserver"in window&&(t=new IntersectionObserver(function(e,t){e.forEach(function(e){0<e.intersectionRatio&&(r(e.target),t.unobserve(e.target))})}));for(var n=0;n<e.length;n++)t?t.observe(e[n]):r(e[n])}function r(e){if(e.hasAttribute("data-img-src"))return e.setAttribute("src",e.getAttribute("data-img-src"));Array.prototype.forEach.call(e.querySelectorAll('noscript[data-load="lazy"]'),function(e){e.insertAdjacentHTML("beforebegin",e.innerText.trim().toString()),e.parentNode.removeChild(e)})}},stir.truncate=function(e){var t=document.querySelector(e.selector);if(t){var n,r="open"in document.createElement("details"),i=Array.prototype.slice.call(t.children,e.start||3),o=r?document.createElement("summary"):document.createElement("button"),a=r?document.createElement("details"):document.createElement("div");if(o.innerText="Read more",a.classList.add("stir-content-expand"),o.classList.add("stir-content-expander"),1<i.length){e=e.offset?i.pop():null;(r?a:t).appendChild(o),t.appendChild(a),e&&t.appendChild(e);for(var s=0;s<i.length;s++)a.appendChild(i[s])}r||(a.classList.add("show-for-sr"),o.addEventListener("click",n=function(e){a.classList.remove("show-for-sr"),o.removeEventListener("click",n),o.parentNode.removeChild(o)}))}},stir.indexBoard=function(){var t=65,n=90,r={};function i(){for(var e=t;e<=n;e++)r[String.fromCharCode(e)]=!1}return function(e){this.element=e||document.createElement("div"),this.reset=i,this.enable=function(e){r.hasOwnProperty(e)&&(r[e]=!0)},this.disable=function(e){r.hasOwnProperty(e)&&(r[e]=!1)},this.hide=function(){this.element.classList.remove("stir__slidedown"),this.element.classList.add("stir__slideup")},this.show=function(){this.element.classList.remove("stir__slideup"),this.element.classList.add("stir__slidedown")},this.update=function(){for(var e in r){var t;r.hasOwnProperty(e)&&(t=this.element.querySelector('[data-letter="'+e+'"]'),r[e]?t&&t.removeAttribute("data-disabled"):t&&t.setAttribute("data-disabled",!0))}}}}(),stir.node=e=>document.querySelector(e),stir.nodes=e=>Array.prototype.slice.call(document.querySelectorAll(e)),stir.setHTML=(e,t)=>{Array.prototype.slice.call(e.childNodes).forEach(e=>e.remove()),t&&e.appendChild(stir.createDOMFragment(t))},stir.stringToNode=e=>stir.createDOMFragment(e).firstElementChild;const _isArray=Array.isArray,_keys=Object.keys;function unboundMethod(t,e=2){return stir.curry((...e)=>{return e.pop()[t](...e)},e)}stir.clone=function(e){var t=_isArray(e)?Array(e.length):{};if(e&&e.getTime)return new Date(e.getTime());for(const r in e){var n=e[r];t[r]="object"==typeof n&&null!==n?n.getTime?new Date(n.getTime()):stir.clone(n):n}return t},stir.identity=function(e){return e},stir.not=function(t){return function(...e){return!t(...e)}},stir.partial=function(t,...n){return function(...e){return t(...n,...e)}},stir.compose=function(...e){return e.reduceRight(function(t,n){return function(...e){return n(t(...e))}})},stir.curry=function(r,i=r.length){return function t(n){return function(...e){e=[...n,...e];return i<=e.length?r(...e):t(e)}}([])},stir.sort=stir.curry(function(e,t){return"function"==typeof e?stir.clone(t).sort(e):stir.clone(t).sort()}),stir.range=(n,e,r)=>Array.from({length:(e-n)/r+1},(e,t)=>n+t*r),stir.flatten=function(t,e){var n=void 0===e?[]:e;for(let e=0;e<t.length;e++)_isArray(t[e])?stir.flatten(t[e],n):n.push(t[e]);return n},stir.removeDuplicates=stir.curry(n=>n.filter((e,t)=>n.indexOf(e)===t)),stir.isNumeric=function(e){return!isNaN(e)},stir.callback={},stir.callback.queue=[],stir.callback.enqueue=e=>{if(e){for(var t,n=window,r=e.split(".");0<r.length;){var i=r.shift();"function"==typeof n[i]?t=n[i]:void 0!==n[i]&&(n=n[i])}t?t():stir.callback.queue.push(e)}},stir.map=unboundMethod("map",2),stir.filter=unboundMethod("filter",2),stir.reduce=unboundMethod("reduce",3),stir.each=unboundMethod("forEach",2),stir.all=unboundMethod("every",2),stir.any=unboundMethod("some",2),stir.join=unboundMethod("join",2),stir.ga={getClientId:()=>{if(void 0!==window.ga){var n=ga.getAll?ga.getAll():[];for(let e=0,t=n.length;e<t;e+=1)if("UA-340900-19"===n[e].get("trackingId"))return n[e].get("clientId")}return!1}};var UoS_env=function(){var e="prod",t="/media/dist/",n=!1;switch(window.location.hostname){case"localhost":e="dev",t="/medias/Categorised/Dist/";break;case"stiracuk-cms01-production.terminalfour.net":e="preview",n=!(t="");break;case"stiracuk-cms01-test.terminalfour.net":e="appdev-preview",n=!(t="");break;case"stir.ac.uk":e="pub";break;case"stirweb.github.io":e="qa",t="/medias/Categorised/Dist/"}switch(window.location.port){case"3000":case"8000":e="dev",t="/medias/Categorised/Dist/"}return{name:e,wc_path:t,t4_tags:n}}(),UoS_closeAllWidgetsExcept=function(){var n=document.createEvent("Event"),r=(n.initEvent("widgetRequestClose",!0,!0),{breadcrumbs:function(){var e=document.querySelectorAll(".breadcrumbs > li");e&&Array.prototype.forEach.call(e,function(e){e.classList.remove("is-active")})},courseSearchWidget:function(){var e=document.getElementById("course-search-widget__wrapper");e&&(e.classList.remove("stir__slidedown"),e.classList.add("stir__slideup"))},megamenu:function(){var e=document.querySelector(".c-header-nav--primary a");e&&e.classList.remove("c-header-nav__link--is-active")},internalDropdownMenu:function(){var e=document.getElementById("internal-dropdown-menu");e&&e.classList.remove("is-active")},internalSignpost:function(){var e=document.getElementById("internal-signpost-dropdown__submenu"),e=(e&&e.classList.add("hide"),document.getElementById("internal-signpost-dropdown__link"));e&&e.classList.remove("is-active")}});return function(e){for(var t in document.dispatchEvent(n),r)r.hasOwnProperty(t)&&t!==e&&r[t]()}}();document.body.addEventListener("click",UoS_closeAllWidgetsExcept),(stir=stir||{}).MediaQuery=function(){var t,n={small:640,medium:1024,large:1240,xlarge:1440,xxlarge:1/0};function r(){var e,t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);for(e in n)if(n.hasOwnProperty(e)&&t<=n[e])break;return e}return"function"==typeof Event?t=new Event("MediaQueryChange"):(t=document.createEvent("Event")).initEvent("MediaQueryChange",!0,!0),window.addEventListener("resize",stir.debounce(function(){var e=r();e!==stir.MediaQuery.current&&(stir.MediaQuery.current=e,window.dispatchEvent(t))},150)),{current:r()}}(),function(){var e;stir.node(".c-half-n-half.js-animation")&&((e=stir.nodes(".c-half-n-half.js-animation")).forEach(e=>e.classList.add("u-opacity-0")),e.forEach(t=>{let n=stir.createIntersectionObserver({element:t,threshold:[.1],callback:function(e){e.isIntersecting&&(t.classList.remove("u-opacity-0"),(e=Array.prototype.slice.call(t.querySelectorAll("div")))[0]&&e[0].classList.add("fadein-slide-right"),e[1]&&e[1].classList.add("fadein-slide-left"),n)&&n.observer.unobserve(this)}})}))}(),function(n){if(n){var e="small"===stir.MediaQuery.current,t=[],r=0,i=n.getAttribute("data-hierarchy-max")||(e?1:4);n.addEventListener("click",e=>e.stopPropagation());for(var o,a,s,c=n.firstChild;c;c=c.nextSibling)1===c.nodeType&&(""===c.textContent.trim()?(c=c.previousSibling).parentNode.removeChild(c.nextSibling):(o=c.querySelector("a"),(a=c.querySelector("ul"))&&(c.classList.add("breadcrumbs__item--has-submenu"),(s=document.createElement("li")).appendChild(o.cloneNode(!0)),a.insertAdjacentElement("afterbegin",s),o.addEventListener("click",f)),t.push({"@type":"ListItem",position:Array.prototype.indexOf.call(n.children,c)+1,item:{"@id":o.href,name:o.textContent}}),c.setAttribute("data-hierarchy-level",r++)));if(i<r){i=Array.prototype.slice.call(n.querySelectorAll("[data-hierarchy-level]")).slice(0,0-i);if(1===i.length)return;var l=i.shift(),u=document.createElement("li"),d=document.createElement("a"),h=document.createElement("ul");u.appendChild(d),u.appendChild(h),l.insertAdjacentElement("afterend",u),d.innerText="…",u.classList.add("breadcrumbs__item--has-submenu"),u.setAttribute("data-collapse",""),i.forEach(function(e,t){var n=document.createElement("li"),r=e.querySelector("a");r.removeEventListener("click",f),n.appendChild(r),h.appendChild(n),e.parentNode.removeChild(e)}),d.addEventListener("click",f)}l=Array.prototype.slice.call(n.querySelectorAll("li[data-hierarchy-level] > a")),u=e?l.length:-1;l.slice(1,u).forEach(function(e){25<e.textContent.length&&(e.setAttribute("title",e.textContent),e.innerHTML=stir.String.truncate.apply(e.textContent,[25,!0]))}),window.JSON&&((i=document.createElement("script")).type="application/ld+json",i.textContent=JSON.stringify({"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:t}),n.insertAdjacentElement("beforebegin",i))}function f(e){e.preventDefault();var t=n.querySelector(".is-active");e.target.parentElement.classList.toggle("is-active"),t&&t.classList.remove("is-active"),self.UoS_closeAllWidgetsExcept&&UoS_closeAllWidgetsExcept("breadcrumbs")}}(document.querySelector(".breadcrumbs"));(stir=stir||{}).Concierge=function(t){const e=document.querySelector("#header-search__button");if(!t||!e)return;var n,r,i,o=this.obj2param;const a={overlay:t.querySelector(".overlay"),input:t.querySelector('input[name="query"]'),submit:t.querySelector("button"),wrapper:t.querySelector("#header-search__wrapper"),news:t.querySelector(".c-header-search__news"),courses:t.querySelector(".c-header-search__courses"),all:t.querySelector(".c-header-search__all"),suggestions:t.querySelector(".c-header-search__suggestions")},s="https://stir-search.clients.uk.funnelback.com";var c=s+"/s/";const l=c+"search.json?",u=c+"suggest.json?collection=stir-www&show=10&partial_query=",d="https://www.stir.ac.uk/courses/",h="https://www.stir.ac.uk/search/";var f="",p=3,m=27;function g(e){stir.getJSON(u+e,function(n){{var e;0<n.length?(stir.getJSON(l+k(n[0]),L),e=n.filter((e,t)=>n.indexOf(e)===t),e=stir.filter((e,t)=>t<5,e),v.call(a.suggestions,{heading:"Suggestions",none:"No suggestions found",icon:"uos-magnifying-glass"},e.map(S))):(stir.getJSON(l+k(f),L),v.call(a.suggestions,{heading:"Suggestions",none:"No suggestions found",icon:"uos-magnifying-glass"},[]))}i.hide(),r.show()}.bind(a.suggestions))}function v(e,t){1===this.nodeType&&(this.innerHTML=y(e.heading,e.icon)+"<ul>"+b(e,t)+"</ul>")}n=new stir.ToggleWidget(t,"stir__fadeIn","stir__fadeOut"),r=new stir.ToggleWidget(a.wrapper,"stir__slidedown","stir__slideup"),(i=new stir.Spinner(a.input.parentElement)).element.classList.add("c-search-loading__spinner-small"),r.hide(),e.addEventListener("click",C),a.input.addEventListener("focus",_),a.input.addEventListener("keyup",stir.debounce(x,400)),t.addEventListener("click",function(e){e.target!==a.overlay&&e.stopPropagation()});const y=(e,t)=>`
        <h3 class="c-header-search__title header-stripped">
          <span class="${t}"></span> 
          ${e}
        </h3>`,b=(e,t)=>0<t.length?t.join(""):w(e.none),w=e=>`<li class="c-header-search__item">${e}</li>`,E=e=>{return`
      <li class="c-header-search__item">
        <a href="${"stir-events"===e.collection?e.metaData.page:s+e.clickTrackingUrl}">
        ${e.title.split(" | ")[0]} - ${e.title.split(" | ")[1]?e.title.split(" | ")[1]:""}</a>
      </li>`},A=e=>`
      <li class="c-header-search__item">
        <a href="${s}${e.clickTrackingUrl}">
        ${e.metaData.award||""} 
        ${e.title.split(" | ")[0]}</a>
      </li>`,S=e=>`
      <li class="c-header-search__item">
        <a href="${h}?query=${e}">${e}</a>
      </li>`;function k(e){return o({query:e,SF:"[c,d,access,award,page]",collection:"stir-main",num_ranks:25,"cool.21":.9})}function L(e){var t=e.response.resultPacket.results;0<e.response.resultPacket.resultsSummary.fullyMatching?(e=stir.compose(stir.map(A),stir.filter((e,t)=>t<3),stir.filter(e=>e.liveUrl.includes(d)))(t),t=stir.compose(stir.map(E),stir.filter((e,t)=>t<3),stir.filter(e=>!e.liveUrl.includes(d)))(t),v.call(a.news,{heading:"All pages",none:"No results found",icon:"uos-all-tab"},t),v.call(a.courses,{heading:"Courses",none:"No courses found",icon:"uos-course-tab"},e)):(v.call(a.news,{heading:"All pages",none:"No results found",icon:"uos-all-tab"},[]),v.call(a.courses,{heading:"Courses",none:"No courses found",icon:"uos-course-tab"},[]))}function x(e){this.value!=f&&(r.hide(),f=this.value.length>=p?(i.show(),g(this.value),this.value):(i.hide(),r.hide(),""))}function _(e){""!==this.value&&r.hidden()&&(r.show(),i.hide())}function C(e){n.hidden()&&(n.show(),a.input.focus(),a.input.removeAttribute("tabindex"),a.submit.removeAttribute("tabindex")),UoS_closeAllWidgetsExcept("headerSearch"),document.addEventListener("keyup",q),document.addEventListener("focusin",T),document.addEventListener("widgetRequestClose",M),e.stopPropagation(),e.preventDefault()}function M(e){r.hide(),n.hide(),a.input.setAttribute("tabindex","-1"),a.submit.setAttribute("tabindex","-1"),document.removeEventListener("keyup",q),document.removeEventListener("focusin",T),document.removeEventListener("widgetRequestClose",M)}function T(e){t.contains&&e.target&&(t.contains(e.target)||M())}function q(e){e.keyCode===m&&M()}},stir.Concierge.prototype.obj2param=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},new stir.Concierge(document.getElementById("header-search")),function(e){for(var t=0;t<e.length;t++)e[t].action=e[t].getAttribute("data-js-action")||e[t].action}(Array.prototype.slice.call(document.querySelectorAll("form[data-js-action]"))),function(){if(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")){var e=stir.nodes(".c-link");if(e)for(var t=0;t<e.length;t++)e[t].classList.add("safariFix")}}(),function(){var e=(e,t,n)=>{var r=`
      <li class="c-header-nav__item c-header-nav__item-${n} show-for-large">
          <a ident="header-link-${n}" class="c-header-nav__link" rel="nofollow" href="${t}">${e}</a>
      </li>`,i=stir.node(".c-header-nav--secondary"),i=(i&&i.insertAdjacentHTML("afterbegin",r),`
      <li class="slidemenu__other-links-${n} text-sm">
        <a ident="menu-link-${n}" href="${t}" rel="nofollow">${e}</a>
      </li>`),r=stir.node(".slidemenu__other-links");r&&r.insertAdjacentHTML("afterbegin",i)},t=()=>"dev"===UoS_env.name?"STAFF":window.Cookies&&void 0!==Cookies.get("psessv0")?Cookies.get("psessv0").split("|")[0]:"";"STAFF"===t()&&e("Staff info","/internal-staff/","staff"),"STUDENT"===t()&&e("Student info","/internal-students/","students")}(),function(){var e=document.querySelector(".internal-sidebar-menu"),t=document.getElementById("mobileMenuBurger"),n=document.getElementById("mobilemenulinks"),r=document.querySelector(".burger--internal-sidebar-menu"),i=document.querySelector(".internal-pages-mobile-menu");function o(e,t){e.style.display="block",e.classList.contains("hide")?(e.classList.remove("hide"),t.classList.add("nav-is-open")):(e.classList.add("hide"),t.classList.remove("nav-is-open"))}t&&n&&(t.onclick=function(e){o(n,t),e.preventDefault()}),r&&i&&(r.onclick=function(e){o(i,r),e.preventDefault()}),e||r&&r.classList.add("hide")}();var intSignPostBtn=document.getElementById("internal-signpost-dropdown__link"),intSignPostMenu=document.getElementById("internal-signpost-dropdown__submenu");if(intSignPostBtn&&intSignPostMenu&&(intSignPostBtn.onclick=function(e){return e.stopPropagation(),intSignPostMenu.classList.contains("hide")?(intSignPostMenu.classList.remove("hide"),intSignPostBtn.classList.add("is-active")):(intSignPostMenu.classList.add("hide"),intSignPostBtn.classList.remove("is-active")),UoS_closeAllWidgetsExcept("internalSignpost"),e.preventDefault(),!1}),!function(){if(document.querySelector(".c-download-box")){for(var e=document.querySelectorAll(".dropdown-pane"),t=document.querySelectorAll(".button--dropdown"),n=0;n<e.length;n++)e[n].classList.add("hide");for(n=0;n<e.length;n++)t[n].onclick=function(e){e.target.nextElementSibling.classList.toggle("hide"),e.preventDefault()}}}(),stir.lazy(document.querySelectorAll(".stirlazy,[data-lazy-container]")),document.querySelector(".c-zoom"))switch(window.location.hostname){case"localhost":stir.addScript("/src/js-other/loupe.js");break;case"www.stir.ac.uk":case"stiracuk-cms01-production.terminalfour.net":stir.addScript('<t4 type="media" id="158075" formatter="path/*" />')}!function(){var e,m=document.getElementById("megamenu__container__dev")||document.getElementById("megamenu__container");if(m){switch(UoS_env.name){case"dev":e="/pages/data/awd/megamenu.html";break;case"qa":e="/stirling/pages/data/awd/megamenu.html";break;case"preview":case"production":e="https://stiracuk-cms01-production.terminalfour.net/terminalfour/preview/1/en/2834";break;case"app-preview":case"appdev-preview":case"test":e="https://stiracuk-cms01-test.terminalfour.net/terminalfour/preview/1/en/2834";break;default:e="/developer-components/includes/template-external/mega-menu/"}1240<=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)&&stir.load(e,function(e){e&&!e.error?(m.innerHTML=e,t()):console.error("Unable to load MegaMenu")})}function t(){for(var e=document.querySelector("#layout-header .c-header-nav--primary"),t=document.querySelectorAll(".megamenu__links > ul > li > a"),n=0;n<t.length;n++)t[n].insertAdjacentText("afterbegin","Visit "),t[n].insertAdjacentText("beforeend"," home");var r="c-header-nav__link--is-active";m.addEventListener("click",function(e){e.stopPropagation()}),Array.prototype.forEach.call(document.querySelectorAll(".megamenu"),function(e){e.classList&&e.classList.add("animation-slide"),e.setAttribute("tabindex",-1),s(e,!1)});function i(e){e&&e.classList&&(e.classList.add("animation-slide__up"),e.classList.remove("animation-slide__down"),s(e,!1),document.removeEventListener("keyup",l),document.removeEventListener("widgetRequestClose",u),e.id)&&c(e.id)}function o(){a(),Array.prototype.forEach.call(document.querySelectorAll(".megamenu.animation-slide__down"),function(e){i(e)})}function a(){Array.prototype.forEach.call(e.querySelectorAll("."+r),function(e){e.classList&&e.classList.remove(r)})}function s(e,t){Array.prototype.forEach.call(e.querySelectorAll("a"),function(e){t?e.removeAttribute("tabindex"):e.setAttribute("tabindex",-1)})}const c=e=>{e=document.querySelector(`[aria-controls="${e}"]`);e&&e.focus()};function l(e){27===e.keyCode&&o()}function u(){a(),i(document.querySelector(".megamenu.animation-slide__down"))}e.querySelectorAll("[data-menu-id]").forEach(e=>{var t=e.getAttribute("data-menu-id"),n=m.querySelector("#"+t);t&&n&&e.setAttribute("aria-controls",t)}),e.addEventListener("click",function(e){var t,n;e.preventDefault(),e.stopPropagation(),n=e.target.getAttribute("aria-controls"),(t=n?document.querySelector("#"+n):t)?(t.classList&&t.classList.contains("animation-slide__down")?i(t):(o(),(n=t)&&n.classList&&(n.classList.remove("animation-slide__up"),n.classList.add("animation-slide__down"),s(n,!0),(n=(n=n).querySelector("a,button,input"))&&n.focus(),document.addEventListener("widgetRequestClose",u),document.addEventListener("keyup",l))),e.target.classList&&e.target.classList.toggle(r)):UoS_closeAllWidgetsExcept()});var d=document.querySelectorAll(".megamenu .megamenu__links");function h(e,t,n){var r=this.parentNode.querySelector("ul > li > ul"),t=t?r.scrollWidth-r.clientWidth:0;stir.scroll.call(r,0,t),this.style.display="none",e&&(e.style.display="block"),n.preventDefault()}for(n=0;n<d.length;n++){var f=d[n].querySelector(".megamenu__prev-button"),p=d[n].querySelector(".megamenu__next-button");f&&p&&(f.onclick=h.bind(f,p,!1),p.onclick=h.bind(p,f,!0))}loaded=!0}}();var stir=stir||{};!function(){var e=UoS_env.name.includes("preview")?'<t4 type="media" id="174054" formatter="path/*" />':UoS_env.wc_path+"js/other/mobile-nav.js";stir.lazyJS(["#open_mobile_menu"],e)}(),function(){for(var e=document.head.querySelector('meta[name="category"]'),t=document.querySelector("h1.c-automatic-page-heading"),n=(e&&t&&(e=e.getAttribute("content"),t.insertAdjacentHTML("afterend",'<p class="c-category-label" data-category="'+e+'">'+e+"</p>")),Array.prototype.slice.call(document.querySelectorAll("blockquote.c-pullquote[data-element-anchor]"))),r=0;r<n.length;r++){var i,o=n[r],a=o.getAttribute("data-element-anchor"),s=o.parentElement,c=s.previousElementSibling;c&&(a&&0<Number.parseInt(a)?(i=c.querySelector(".c-wysiwyg-content > :nth-child("+a+")"))&&i.insertAdjacentElement("beforebegin",o):(i=c.querySelector(".c-wysiwyg-content"))&&i.insertAdjacentElement("beforeend",o),i)&&s.parentNode.removeChild(s)}}(),function(t){var e;t&&(t.addEventListener("click",function(){stir.scrollTo(0,0)}),e=document.querySelector("#layout-header"))&&stir.createIntersectionObserver({element:e,threshold:[0,1],callback:function(e){0<e.intersectionRatio?t.classList.remove("c-scroll-to-top__visible"):t.classList.add("c-scroll-to-top__visible")}})}(document.querySelector(".c-scroll-to-top")),function(e){e&&stir.each(e=>{var t=e.querySelector("select");const n=Array.prototype.slice.call(e.querySelectorAll("[data-show]"));stir.each((e,t)=>0!==t&&e.classList.add("hide"),n),t&&(t.selectedIndex="0"),t&&t.addEventListener("change",e=>{e=e.target.options[e.target.selectedIndex].value,e=stir.node('[data-show="'+e+'"]');e&&stir.each(e=>e.classList.add("hide"),n),e&&e.classList.remove("hide")})},e)}(stir.nodes("[data-showyhidey]")),self.UoS_StickyWidget&&function(e){for(var t in e)e.hasOwnProperty(t)&&new UoS_StickyWidget(e[t])}(document.querySelectorAll(".u-sticky")),(stir=stir||{}).widgets=stir.widgets||{},stir.accord=function(){function e(e,t){if(void 0===this.init)return console.error("Please call stir.accord() with `new`.");this.id=++i,this.settings={deeplinked:!1,doDeepLink:!!t},e&&(t=(this.element=e).querySelector("[aria-controls]"),e=e.querySelector('[role="region"]'),t&&e&&t.getAttribute("aria-controls")===e.id?(n&&console.info("[Accordion] legacy markup found"),this.control=t,this.panel=e):(n&&console.info("[Accordion] legacy markup NOT found, creating unique ARIA objects"),this.control=null,this.panel=null),this.init())}var n="prod"!==UoS_env.name,t=[],r=(Array.prototype.forEach.call(document.querySelectorAll(".stir-accordion"),function(e){Array.prototype.forEach.call(e.querySelectorAll("[aria-controls]"),function(e){t.push(e.getAttribute("aria-controls"))}),Array.prototype.forEach.call(e.querySelectorAll(".stir-accordion--inactive"),function(e){e.classList.remove("stir-accordion--inactive")}),Array.prototype.forEach.call(e.querySelectorAll(".stir__slideup,.stir__slidedown"),function(e){e.classList.remove("stir__slideup"),e.classList.remove("stir__slidedown")})}),n&&t.length>t.filter(function(e,t,n){return n.indexOf(e)===t}).length&&console.warn("[Accordion] Duplicate IDs found!"),document.querySelectorAll('[data-remote="accordion"]')),i=(Array.prototype.forEach.call(r,function(e){e.addEventListener("click",function(e){var t=this.hasAttribute("href")&&document.querySelector(this.getAttribute("href"));t&&(stir.scrollToElement(t,20),!t.hasAttribute("aria-expanded"))&&t.click(),history.pushState?history.pushState(null,null,this.getAttribute("href")):location.hash="#"+this.getAttribute("href"),e.preventDefault()})}),0);return e.prototype.getHeading=function(){var t;return Array.prototype.forEach.call(this.element.children,function(e){e.matches("h1,h2,h3,h4,h5,h6,accordion-summary")&&(t=e)}),t},e.prototype.init=function(){var e="accordion-control-"+this.id,t="accordion-panel-"+this.id;if(!this.control){var n=this.getHeading();if(!n)return;this.control=document.createElement("button"),this.control.innerText=n.innerText,this.control.classList.add("stir-accordion--btn"),this.control.setAttribute("aria-controls",t),this.control.setAttribute("aria-expanded","false"),this.control.id=e,n.innerHTML="",n.appendChild(this.control)}if(!this.panel){if(this.panel=this.element.querySelector("div"),!this.panel)return;this.panel.setAttribute("role","region"),this.panel.setAttribute("aria-labelledby",e),this.panel.id=t}this.element.classList.add("stir-accordion"),this.element.addEventListener("click",this.handleClick.bind(this)),"false"===this.element.getAttribute("data-deeplink")&&(this.settings.doDeepLink=!1),this.settings.doDeepLink&&this.panel.id==window.location.hash.slice(1)&&(this.control.hasAttribute("aria-expanded")&&this.control.getAttribute("aria-expanded"),this.toggle())},e.prototype.toggle=function(){this.element&&this.element.classList.toggle("stir-accordion--active"),this.control&&this.control.setAttribute("aria-expanded","true"===this.control.getAttribute("aria-expanded")?"false":"true")},e.prototype.handleClick=function(e){!e.target||e.target!=this.control&&e.target!=this.control.parentNode&&e.target.parentNode!=this.control||(this.toggle(),this.settings.doDeepLink&&(history.replaceState?history.replaceState(null,null,"#"+this.panel.id):location.hash="#"+this.panel.id),e.preventDefault())},e}(),function(){var t="prod"!==UoS_env.name;Array.prototype.forEach.call(document.querySelectorAll(".stir-accordion"),function(e){t&&console.warn('[Accordion] Deprecated. Use data-behaviour="accordion" instead of .stir-accordion',e),new stir.accord(e,!1)}),Array.prototype.forEach.call(document.querySelectorAll('[data-behaviour="accordion"]'),function(e){new stir.accord(e,!1)})}(),(stir=stir||{}).Modal=function(i){var o;function a(){var e,t,n;i.hasAttribute("data-stirreveal")&&(o=i.id,e=document.createElement("section"),t=stir.nodes('[data-modalopen="'+o+'"]'),n=i.querySelector(".close-button"),i.parentElement&&i.parentElement.classList.contains("reveal-overlay")||(e.insertAdjacentElement("beforeend",i),i.setAttribute("aria-hidden",!0),i.setAttribute("role","dialog"),i.style.display="none",e.classList.add("reveal-overlay"),document.querySelector("body").insertAdjacentElement("beforeend",e)),e.setAttribute("aria-label","Container for modal "+o),e.addEventListener("click",c),t.forEach(e=>{e.addEventListener("click",function(e){r(),e.preventDefault()})}),n)&&(n.onclick=function(e){s(),e.preventDefault()})}function r(){i.hasAttribute("data-stirreveal")&&(i.removeAttribute("aria-hidden"),i.style.display="block",i.parentNode.style.display="block")}function s(){i.hasAttribute("data-stirreveal")&&i.classList.contains("reveal")&&(i.setAttribute("aria-hidden",!0),i.style.display="none",i.parentNode.style.display="none")}function c(e){e.target==this&&(e.preventDefault(),s())}return i&&a(),{getId:function(){return i.id},setContent:function(e,t){var n;e=e,t=t,i.hasAttribute("data-stirreveal")&&(n=i.querySelector(".close-button"),i.innerHTML=e,t&&i.appendChild(t),n)&&i.insertAdjacentElement("beforeend",n)},open:function(){r()},close:function(){s()},render:function(e,t){var n,r;e=o=e,t=t,n=[],r=document.createElement("div"),n.push('<button class="close-button" data-close aria-label="Close modal" type="button">'),n.push('<span aria-hidden="true">&times;</span>'),n.push("</button>"),r.innerHTML=n.join("\n"),r.setAttribute("aria-label",t),r.setAttribute("data-stirreveal",""),r.classList.add("reveal"),r.id=e,i=r,a()}}},stir.Dialog=function(e){const n=()=>s.close(),r=()=>{null===s.getAttribute("open")&&s.showModal()},i=e=>stir.nodes('[data-opendialog="'+e+'"]'),o=()=>s.querySelector("[data-closedialog]"),t=()=>{var e,t=s.dataset.dialog;t&&(e=o(),i(t).forEach(e=>{e.addEventListener("click",e=>r())}),e)&&e.addEventListener("click",e=>n())},a=e=>{stir.setHTML(s,e+'<button data-closedialog class="close-button">&times;</button>'),t()},s=e||document.createElement("dialog");return o()||a(""),t(),{getId:function(){return s.dataset.dialog},getDialog:function(){return s},renderOpenBtn:function(e){return e=e,stir.stringToNode(`<button data-opendialog="${s.dataset.dialog}" class="button u-mt-sm">${e}</button>`)},setId:function(e){e=e,s.dataset.dialog=e,t()},setContent:function(e){a(e)},listen:function(){t()},open:function(){r()},close:function(){n()}}},function(e,t){(e||t)&&(stir.node("dialog")&&("function"==typeof HTMLDialogElement?(e=t,stir.t4Globals=stir.t4Globals||{},stir.t4Globals.dialogs=stir.t4Globals.dialogs||[],e.forEach(e=>{stir.t4Globals.dialogs.push(stir.Dialog(e))})):(e=t,t=stir.nodes("[data-opendialog]"),e.forEach(e=>{e.removeAttribute("data-dialog"),e.classList.add("reveal"),e.setAttribute("data-stirreveal",""),e.setAttribute("aria-label","Modal box"),e.setAttribute("id",e.dataset.dialog)}),t.forEach(e=>{e.removeAttribute("data-opendialog"),e.dataset.modalopen=e.dataset.opendialog}))),e=stir.nodes("[data-stirreveal]"),stir.t4Globals=stir.t4Globals||{},stir.t4Globals.modals=stir.t4Globals.modals||[],e.forEach(e=>{stir.t4Globals.modals.push(new stir.Modal(e))}))}(stir.nodes("[data-stirreveal]"),stir.nodes("dialog"));(stir=stir||{}).tabhelper=function(){var e=0;return{getId:function(){return++e}}}(),stir.tabs=function(n,e){if(!n)return;const i={},r=(!n.dataset.deeplink||"false"!==n.dataset.deeplink)&&e;let o=!1,t=stir.MediaQuery.current;var a,s,c;window.location.hostname;const l=["small","medium"];function u(){var e="tabs"===d(),t="accordion"===d();e?(i.tabs.forEach((e,t)=>{e.panel.setAttribute("tabindex","0"),e.panel.setAttribute("role","tabpanel"),e.tab.setAttribute("role","tab"),e.panel.setAttribute("aria-labelledby",e.tab.id),e.tab.setAttribute("aria-controls",e.panel.id),e.tab.setAttribute("aria-selected",!t),0!==t&&e.panel.setAttribute("hidden","")}),i.tabActive=i.tabs[0].tab):i.tabs.forEach(e=>{e.panel.removeAttribute("tabindex"),e.panel.removeAttribute("role"),e.panel.removeAttribute("hidden"),e.tab.removeAttribute("role"),e.panel.removeAttribute("aria-labelledby"),e.tab.removeAttribute("aria-controls")}),t?i.tabs.forEach(e=>{e.content.setAttribute("role","region"),e.header.textContent="",e.header.append(e.accordion),e.accordion.setAttribute("aria-expanded","false"),e.accordion.setAttribute("aria-controls",e.content.id),e.content.setAttribute("aria-labelledby",e.accordion.id),e.content.setAttribute("hidden","")}):i.tabs.forEach(e=>{e.accordion.remove(),e.header.textContent=e.label,e.content.removeAttribute("role"),e.content.removeAttribute("aria-labelledby"),e.content.removeAttribute("hidden")}),r&&(e=window.location.hash.slice(1))&&((t=n.querySelector('[aria-controls="'+e+'"]'))?(o=!0,"true"!==t.getAttribute("aria-selected")&&t.click()):(t=n.querySelector('[aria-controls="'+e.replace("panel","content")+'"]'))&&(i.tabs.forEach(e=>{"true"===e.accordion.getAttribute("aria-expanded")&&e.accordion.click()}),t.click()))}const d=()=>l.includes(stir.MediaQuery.current)?"accordion":"tabs",h=e=>"tab"===e.target.getAttribute("role")?e.target:null,f=e=>{i.tabs.forEach(e=>{e=e.tab;e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),(e=document.getElementById(e.getAttribute("aria-controls")))&&e.setAttribute("hidden","")});return e.setAttribute("aria-selected","true"),e.removeAttribute("tabindex"),i.tabActive=e,(e=document.getElementById(e.getAttribute("aria-controls")))&&e.removeAttribute("hidden"),!0};function p(e){var t,e=e.target,n=e.getAttribute("aria-controls");e&&n&&(t=document.getElementById(n),n="#"+n.replace("content","panel"),t.hidden?(history.replaceState&&history.replaceState(null,null,n),t.removeAttribute("hidden"),e.setAttribute("aria-expanded","true"),stir.callback.enqueue(e.getAttribute("data-tab-callback"))):(t.setAttribute("hidden",""),e.setAttribute("aria-expanded","false")))}function m(e){var t,n=h(e);n&&(n.focus(),f(n),r&&(t="#"+n.getAttribute("aria-controls"),history.replaceState?history.replaceState(null,null,t):location.hash=t),stir.callback.enqueue(n.getAttribute("data-tab-callback")),e.preventDefault())}function g(e){"ArrowRight"===e.code?(i.tabActive.nextElementSibling||i.tabs[0].tab).click():"ArrowLeft"===e.code?(i.tabActive.previousElementSibling||i.tabs[i.tabs.length-1].tab).click():"Home"===e.code?(i.tabs[0].tab.click(),e.preventDefault()):"End"===e.code&&(i.tabs[i.tabs.length-1].tab.click(),e.preventDefault())}function v(){n&&u()}return window.addEventListener("MediaQueryChange",()=>{stir.MediaQuery.current!==t&&(t=stir.MediaQuery.current,v())}),a=stir.tabhelper.getId(),s=0,c=document.createElement("div"),n.classList.add("stir-tabs"),n.insertAdjacentElement("afterbegin",c),c.setAttribute("role","tablist"),i.tabs=[],Array.prototype.slice.call(n.children).filter(e=>e.matches("h2,h3,h4")).forEach(e=>{var t="_"+a+"_"+ ++s,n=document.createElement("button"),r="DIV"===e.nextElementSibling.nodeName?e.nextElementSibling:null;r&&(c.appendChild(n),i.tabs.push(((e,t,n,r)=>{const i=document.createElement("button"),o=document.createElement("div"),a=t.textContent;if(t.insertAdjacentElement("beforebegin",o),o.append(t),o.append(n),t.hasAttribute("data-tab-callback")){r.setAttribute("data-tab-callback",t.getAttribute("data-tab-callback"));i.setAttribute("data-tab-callback",t.getAttribute("data-tab-callback"))}return r.textContent=a,i.textContent=a,o.id=o.id||"panel"+e,r.id=r.id||"tab"+e,i.id=i.id||"accordion"+e,n.id=n.id||"content"+e,i.setAttribute("type","button"),i.classList.add("pseudotab"),i.addEventListener("click",p),{id:e,label:a,header:t,content:n,tab:r,panel:o,accordion:i}})(t,e,r,n)))}),c.addEventListener("click",m),c.addEventListener("keyup",g,!0),v(),{isDeepLinked:function(){return o},getEl:function(){return n},getElement:function(){return n}}},function(){var e=stir.nodes('.stir-tabs,[data-behaviour="tabs"]');if(e){const t=e.map(e=>stir.tabs(e,!0)).filter(e=>{if(e.isDeepLinked())return e});t[0]&&setTimeout(function(){stir.scrollToElement(t[0].getElement(),120)},1500)}}(),stir=stir||{};if("www.stir.ac.uk"!==window.location.hostname)switch(window.location.hostname){case"localhost":stir.addScript("/src/js-other/t4-preview-tools.js");break;case"stirweb.github.io":stir.addScript("/stirling/src/js-other/qa-protect.js");break;case"stiracuk-cms01-production.terminalfour.net":case"stiracuk-cms01-test.terminalfour.net":stir.addScript('<t4 type="media" id="158095" formatter="path/*" />')}!function(){function e(o){var e;"small"!==stir.MediaQuery.current&&(e=document.querySelectorAll(".vimeo-bg-video"))&&Array.prototype.forEach.call(e,function(e,t){var n=e.querySelector("div[data-videoId]"),r=n.getAttribute("data-noOfLoops"),e=n.getAttribute("data-videoId"),i=new Vimeo.Player(n,{id:e,background:!0,loop:!0,autoplay:o,controls:!1,transparent:!0});i.on("play",function(e){o?n.setAttribute("data-playback","playing"):(i.pause(),n.setAttribute("data-playback","paused"))}),o&&i.getDuration().then(function(e){var t;t=n,setTimeout(function(){t.setAttribute("data-playback","ended"),i.pause(),t.dispatchEvent(a)},e*r*1e3)}).catch(function(e){console.error(e.name),n.style.display="none"})})}var t=document.createEvent("Event"),a=document.createEvent("Event");t.initEvent("paused",!0,!0),a.initEvent("ended",!0,!0);document.querySelector("div[data-videoId]")&&e(!0)}(),function(){var n;if(document.querySelector("div[data-videoEmbedId]")&&(i=document.querySelectorAll("div[data-videoEmbedId]"))&&Array.prototype.forEach.call(i,function(e,t){(n=e.getAttribute("data-videoEmbedId"))&&new Vimeo.Player(e.id,{id:n,loop:!1})}),document.querySelector("div[data-videoschema]")){var e=[],t=0;if(stir.vimeo){for(var r in stir.vimeo)e.push({"@type":"VideoObject",position:t+1,name:stir.vimeo[r].name,description:stir.vimeo[r].description,thumbnailUrl:"https://www.stir.ac.uk/data/video/?content=thumbnail&id="+stir.vimeo[r].id,embedUrl:"https://www.stir.ac.uk/data/video/?content=video&id="+stir.vimeo[r].id,url:"https://www.stir.ac.uk/data/video/?content=video&id="+stir.vimeo[r].id,uploadDate:stir.vimeo[r].uploadDate}),t++;var i=document.createElement("script");i.type="application/ld+json",i.textContent=JSON.stringify({"@context":"http://schema.org","@type":"ItemList",itemListElement:e}),document.body.insertAdjacentElement("afterbegin",i)}}}();