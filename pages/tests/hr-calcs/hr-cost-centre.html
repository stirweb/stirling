<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Cost Centre Calculator HR | University of Stirling</title>


    <meta property="og:site_name" content="University of Stirling">
    <meta property="og:url" content="https://www.stir.ac.uk/about/professional-services/finance-office/">
    <meta property="og:title" content="Finance Office | About | University of Stirling">
    <meta property="og:image"
        content="https://www.stir.ac.uk/media/stirling/global-assets/landscape/og-airthrey-loch-1200x630.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:description"
        content="The Finance Department strives to deliver a high quality service for its customers. We help the University achieve financial sustainability to deliver its strategic objectives.">

    <meta name="stir.title" content="Finance Office">
    <meta name="description"
        content="The Finance Department strives to deliver a high quality service for its customers. We help the University achieve financial sustainability to deliver its strategic objectives." />
    <meta name="Page last modified" content="2024-03-21" />
    <link rel="canonical" href="https://www.stir.ac.uk/about/professional-services/finance-office/">
    <meta name="stir.breadcrumb" content="Home > About > Professional services > Finance Office">
    <meta name="sid" content="6565">
    <meta name="chid" content="1">
    <meta name="t4name" content="Finance Office">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@StirUni">
    <meta name="twitter:title" content="Finance Office | About | University of Stirling">
    <meta name="twitter:description"
        content="The Finance Department strives to deliver a high quality service for its customers. We help the University achieve financial sustainability to deliver its strategic objectives.">

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#006938">



    <link rel="preload" href="../../../medias/Categorised/Dist/fonts/fsmaja/FSMajaWeb-Regular.woff" as="font"
        type="font/woff" crossorigin>
    <link rel="preload" href="../../../medias/Categorised/Dist/fonts/open-sans/OpenSans-Regular.ttf" as="font"
        type="font/ttf" crossorigin>
    <link rel="preload" href="../../../medias/Categorised/Dist/fonts/open-sans/OpenSans-Bold.ttf" as="font"
        type="font/ttf" crossorigin>
    <link rel="preload" href="../../../medias/Categorised/Dist/fonts/fonts.css?v=3.1" as="style">
    <link rel="stylesheet" href="../../../medias/Categorised/Dist/fonts/fonts.css?v=3.1">


    <link rel="preload" href="../../../medias/Categorised/Dist/css/app.min.css?v=286.1" as="style">
    <link rel="stylesheet" href="../../../medias/Categorised/Dist/css/app.min.css?v=286.1">




    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://load.collect.stir.ac.uk/qguyvksw.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NLVN8V');
    </script>

</head>

<body class="external-pages">
    <!--beginnoindex-->
    <nav class="skip-nav-btn" aria-label="Skip to content navigation"><a href="#content">skip to main content</a></nav>

    <!--
		MOBILE NAV
	-->


    <!--
		MAIN HEADER
	-->



    <!-- 
		BREADCRUMB 
	-->




    <!--endnoindex-->

    <!-- 
				 MAIN CONTENT 
		-->
    <main class="wrapper-content" aria-label="Main content" id="content">
        <div class="grid-container">
            <div class="grid-x ">

                <div class="cell main-content-header large-10 medium-10 small-12 u-padding-y">
                    <h1 class="c-automatic-page-heading c-page-heading u-heritage-green">Cost Centre split calculator
                    </h1>
                </div>

                <style>
                    .u-inline-flex {
                        display: inline-flex;
                    }
                </style>

                <div class="cell  small-12 small-12 medium-10 medium-offset-1 u-padding-y  u-bg-grey u-bleed bg-grey">
                    <form id="fte-form" class="u-mb-2 u-bg-white u-p-2 u-medium-grey-line u-border">
                        <label for="fte-total-hours" class="u-mt-1 u-font-bold">Total FTE for the contract </label>
                        <input type="text" id="fte-total-hours" name="fte-total-hours" class="u-input u-mt-1 u-border"
                            placeholder="Enter value (%)">

                        <label for="fte-cost-centre-1" class="u-mt-1 u-font-bold">FTE to be charged to Cost Centre
                            1</label>
                        <input type="text" id="fte-cost-centre-1" name="fte-cost-centre-1"
                            class="u-input u-mt-1 u-border" placeholder="Enter value (%)">

                        <label for="fte-cost-centre-2" class="u-mt-1 u-font-bold">FTE to be charged to Cost Centre
                            2</label>
                        <input type="text" id="fte-cost-centre-2" name="fte-cost-centre-2"
                            class="u-input u-mt-1 u-border" placeholder="Enter value (%)">

                        <label for="fte-cost-centre-3" class="u-mt-1 u-font-bold">FTE to be charged to Cost Centre
                            3</label>
                        <input type="text" id="fte-cost-centre-3" name="fte-cost-centre-3"
                            class="u-input u-mt-1 u-border" placeholder="Enter value (%)">

                        <label for="fte-cost-centre-4" class="u-mt-1 u-font-bold">FTE to be charged to Cost Centre
                            4</label>
                        <input type="text" id="fte-cost-centre-4" name="fte-cost-centre-4"
                            class="u-input u-mt-1 u-border" placeholder="Enter value (%)">

                        <button type="submit"
                            class="button expanded u-mt-1 align-center align-middle no-arrow u-mt-2 u-gap-8 u-inline-flex">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1"
                                stroke="currentColor" class="u-svg-24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
                            </svg>

                            Calculate Cost Centre percentages</button>

                        <div id="fte-result"></div>
                    </form>
                </div>
            </div>
    </main>


    <!-- app.min.js -->
    <script type="text/javascript" src="../../../medias/Categorised/Dist/js/app.min.js?v=118.1"></script>

</body>

<script>

    (function () {
        // Helper function to extract form values
        const getFormValues = form => ({
            totalFTE: parseFloat(form.querySelector('#fte-total-hours').value) || 0,
            costCentre1: parseFloat(form.querySelector('#fte-cost-centre-1').value) || 0,
            costCentre2: parseFloat(form.querySelector('#fte-cost-centre-2').value) || 0,
            costCentre3: parseFloat(form.querySelector('#fte-cost-centre-3').value) || 0,
            costCentre4: parseFloat(form.querySelector('#fte-cost-centre-4').value) || 0
        });

        // Helper function to validate input
        const validateInput = values =>
            values.totalFTE <= 0
                ? { isValid: false, errorMessage: '<p class="u-error">Please enter a valid total FTE value greater than 0.</p>' }
                : { isValid: true };

        // Helper function to calculate percentages
        const calculatePercentages = values => {
            const { totalFTE, costCentre1, costCentre2, costCentre3, costCentre4 } = values;

            const calculatePercent = value => ((value / totalFTE) * 100).toFixed(2);

            const percentages = [
                calculatePercent(costCentre1),
                calculatePercent(costCentre2),
                calculatePercent(costCentre3),
                calculatePercent(costCentre4)
            ];

            const totalPercent = percentages
                .map(parseFloat)
                .reduce((sum, percent) => sum + percent, 0)
                .toFixed(2);

            return { percentages, totalPercent };
        };

        // Helper function to generate result HTML
        const renderResult = ({ percentages, totalPercent }) => `
            <div class="u-mt-2 u-p-2 u-medium-grey-line u-border u-bg-light-grey text-sm">
                <p><strong>Percentage to be charged to:</strong></p>
                <p class="u-flex"><span class="u-flex1">Cost Centre 1:</span> <strong class="u-heritage-green">${percentages[0]}%</strong></p>
                <p class="u-flex"><span class="u-flex1"> Cost Centre 2:</span> <strong class="u-heritage-green">${percentages[1]}%</strong></p>
                <p class="u-flex"><span class="u-flex1">Cost Centre 3:</span> <strong class="u-heritage-green">${percentages[2]}%</strong></p>
                <p class="u-flex"><span class="u-flex1">Cost Centre 4:</span> <strong class="u-heritage-green">${percentages[3]}%</strong></p>                          
                <hr />
                <p class="u-flex"><span class="u-flex1">Total Cost Centre split:</span> <strong class="u-heritage-green">${totalPercent}%</strong></p>
                <hr />
                <p class="u-heritage-berry text-center">Cost centre splits should be confirmed with Finance before processing on SAP</p>
            </div>
        `;

        // Function composition to process form data
        const processForm = form => {
            const values = getFormValues(form);
            const validation = validateInput(values);

            if (!validation.isValid) return validation.errorMessage;

            const calculationResult = calculatePercentages(values);
            return renderResult(calculationResult);
        };

        // Set up event listener (side effect)
        document.getElementById('fte-form').addEventListener('submit', event => {
            event.preventDefault();
            const resultElement = document.getElementById('fte-result');
            resultElement.innerHTML = processForm(event.target);
        });
    })();

</script>

</html>